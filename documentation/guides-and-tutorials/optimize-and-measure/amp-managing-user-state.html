[% supportedFormats formats=["websites"] %]





<!DOCTYPE HTML>
<html amp lang="en">
<head>
    <meta charset="utf-8"/>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <link rel="shortcut icon" href="/static/img/favicon.png"/>

    <meta name="theme-color" content="#005af0"/>

    <link rel="canonical" href="http://localhost:8081/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="x-default" href="http://localhost:8081/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="de" href="http://localhost:8081/de/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="fr" href="http://localhost:8081/fr/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="ar" href="http://localhost:8081/ar/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="es" href="http://localhost:8081/es/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="it" href="http://localhost:8081/it/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="id" href="http://localhost:8081/id/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="ja" href="http://localhost:8081/ja/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="ko" href="http://localhost:8081/ko/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="ru" href="http://localhost:8081/ru/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="tr" href="http://localhost:8081/tr/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="pl" href="http://localhost:8081/pl/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>
    <link rel="alternate" hreflang="vi" href="http://localhost:8081/vi/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/"/>








<title>Manage non-authenticated user state with AMP - amp.dev</title>

<meta name="description" content="**Table of contents**">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Webpage",
  "url": "http://localhost:8081/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/ ",
  "name": "amp.dev",
  "headline":"Manage non-authenticated user state with AMP",
  "description":"**Table of contents**",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:8080"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AMP Project",
    "logo": {
        "url": "http://localhost:8080/static/img/icons/icon-512x512.png",
        "width": 512,
        "height": 512,
        "@type": "ImageObject"
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://localhost:8080/static/img/sharing/docs-guide-600x314.png",
    "width": 600,
    "height": 314
  }
}
</script>

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="**Table of contents**">
<meta name="twitter:title" content="Manage non-authenticated user state with AMP">
<meta name="twitter:creator" content="@ampproject">
<meta name="twitter:site" content="@ampproject">
<meta name="twitter:image" content="http://localhost:8080/static/img/sharing/docs-guide-600x314.png">

<meta property="og:title" content="Manage non-authenticated user state with AMP">
<meta property="og:url" content="http://localhost:8081/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/">
<meta property="og:image" content="http://localhost:8080/static/img/sharing/docs-guide-600x314.png">
<meta property="og:image:width" content="600">
<meta property="og:image:height" content="314">

<meta name="supported-amp-formats" content="websites">
<meta name="page-locale" content="en,pt_br,zh_cn">
    <meta http-equiv="origin-trial" content="AviuuiVhVdQ3GpVtxSpyMT+XsL/qGGYmyiyLvYSKPL3rRDLipe/ard5x+DXVlrATtolwX75VtpSKc9IEzLDd4AkAAABmeyJvcmlnaW4iOiJodHRwczovL2FtcC5kZXY6NDQzIiwiZmVhdHVyZSI6IkV4cGVyaW1lbnRhbEF1dG9wbGF5RHluYW1pY0RlbGVnYXRpb24iLCJleHBpcnkiOjE1NzA1Nzg0NDF9">

    <meta name="viewport" content="width=device-width"/>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

    <style amp-custom>





      @font-face{font-family:system;font-style:normal;font-weight:300;src:local(".SFNSText-Light"),local(".HelveticaNeueDeskInterface-Light"),local(".LucidaGrandeUI"),local("Ubuntu Light"),local("Segoe UI Light"),local("Roboto-Light"),local("DroidSans"),local("Tahoma")}@font-face{font-family:system;font-style:italic;font-weight:300;src:local(".SFNSText-LightItalic"),local(".HelveticaNeueDeskInterface-Italic"),local(".LucidaGrandeUI"),local("Ubuntu Light Italic"),local("Segoe UI Light Italic"),local("Roboto-LightItalic"),local("DroidSans"),local("Tahoma")}@font-face{font-family:system;font-style:normal;font-weight:400;src:local(".SFNSText-Regular"),local(".HelveticaNeueDeskInterface-Regular"),local(".LucidaGrandeUI"),local("Ubuntu"),local("Segoe UI"),local("Roboto-Regular"),local("DroidSans"),local("Tahoma")}@font-face{font-family:system;font-style:italic;font-weight:400;src:local(".SFNSText-Italic"),local(".HelveticaNeueDeskInterface-Italic"),local(".LucidaGrandeUI"),local("Ubuntu Italic"),local("Segoe UI Italic"),local("Roboto-Italic"),local("DroidSans"),local("Tahoma")}@font-face{font-family:system;font-style:normal;font-weight:500;src:local(".SFNSText-Medium"),local(".HelveticaNeueDeskInterface-MediumP4"),local(".LucidaGrandeUI"),local("Ubuntu Medium"),local("Segoe UI Semibold"),local("Roboto-Medium"),local("DroidSans-Bold"),local("Tahoma Bold")}@font-face{font-family:system;font-style:italic;font-weight:500;src:local(".SFNSText-MediumItalic"),local(".HelveticaNeueDeskInterface-MediumItalicP4"),local(".LucidaGrandeUI"),local("Ubuntu Medium Italic"),local("Segoe UI Semibold Italic"),local("Roboto-MediumItalic"),local("DroidSans-Bold"),local("Tahoma Bold")}@font-face{font-family:system;font-style:normal;font-weight:700;src:local(".SFNSText-Bold"),local(".HelveticaNeueDeskInterface-Bold"),local(".LucidaGrandeUI"),local("Ubuntu Bold"),local("Roboto-Bold"),local("DroidSans-Bold"),local("Segoe UI Bold"),local("Tahoma Bold")}@font-face{font-family:system;font-style:italic;font-weight:700;src:local(".SFNSText-BoldItalic"),local(".HelveticaNeueDeskInterface-BoldItalic"),local(".LucidaGrandeUI"),local("Ubuntu Bold Italic"),local("Roboto-BoldItalic"),local("DroidSans-Bold"),local("Segoe UI Bold Italic"),local("Tahoma Bold")}@font-face{font-family:'Noto Sans';font-style:normal;font-weight:400;font-display:optional;src:local("Noto Sans"),local("NotoSans"),url("https://amp.dev/static/fonts/noto-sans-v7-latin-regular.woff2") format("woff2"),url("https://amp.dev/static/fonts/noto-sans-v7-latin-regular.woff") format("woff")}@font-face{font-family:'Noto Sans';font-style:normal;font-weight:700;font-display:optional;src:local("Noto Sans Bold"),local("NotoSans-Bold"),url("https://amp.dev/static/fonts/noto-sans-v7-latin-700.woff2") format("woff2"),url("https://amp.dev/static/fonts/noto-sans-v7-latin-700.woff") format("woff")}@font-face{font-family:'Poppins';font-style:normal;font-weight:700;font-display:optional;src:local("Poppins Bold"),local("Poppins-Bold"),url("https://amp.dev/static/fonts/poppins-v5-latin-700.woff2") format("woff2"),url("https://amp.dev/static/fonts/poppins-v5-latin-700.woff") format("woff")}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;font-display:optional;src:local("Fira Mono"),local("FiraMono"),url("https://amp.dev/static/fonts/fira-mono-v7-latin-500.woff2") format("woff2"),url("https://amp.dev/static/fonts/fira-mono-v7-latin-500.woff") format("woff")}*{box-sizing:border-box}html,body{padding:0;margin:0;min-width:240px;color:#48525C;background-color:#fff;font-size:16px;font-family:'Noto Sans', system;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;touch-action:manipulation}@media (max-width: 240px){html,body{font-size:14px}}.amp-carousel-button{width:3em;height:3em;border-radius:50%;box-shadow:0 10px 15px 0 rgba(0,0,0,0.4);transition:400ms;background-color:#fff}.amp-carousel-button-prev{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23005AF0'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E")}.amp-carousel-button-next{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23005AF0' %3E%3Cpath d='M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E")}.amp-carousel-button:hover{cursor:pointer;box-shadow:0 20px 30px 0 rgba(0,0,0,0.2);background-color:#fff}:target::before{content:'';display:block;visibility:hidden;height:120px;margin-top:-120px}@media (min-width: 1024px){h1:target::before{height:75px;margin-top:-75px}h2:target::before{height:81px;margin-top:-81px}h3:target::before{height:87px;margin-top:-87px}h4:target::before{height:90px;margin-top:-90px}h5:target::before{height:93px;margin-top:-93px}h6:target::before{height:97px;margin-top:-97px}}h1,h2,h3,h4,h5{margin-top:1.5rem;margin-bottom:.75em;font-family:'Poppins',  system;font-weight:700;line-height:1.2em;color:#20202A}h1{font-size:2.2rem;margin-top:3rem}section.ap--content h1:first-of-type{margin-top:0}@media (min-width: 768px){section.ap--content h1:first-of-type{margin-bottom:2rem}}h2{font-size:1.8rem;margin-top:2rem}h3{font-size:1.414rem;margin-top:1.8rem}h4{font-size:1.2rem}h5{font-size:1rem}.ap--content .intro,.ap--section .intro{font-size:1rem;padding:0}.ap--content .intro *,.ap--section .intro *{font-size:inherit}.ap--content p,.ap--section p{line-height:1.6rem;font-weight:normal;color:#48525C;display:block;margin-top:1.1em;margin-bottom:0;font-size:1rem}.ap--content p small,.ap--section p small{font-size:0.875rem}.ap--content code,.ap--section code{display:inline;padding:2px 4px;font-family:'Fira Mono', monospace;font-weight:500;word-break:normal;color:#000;background-color:#E2E5E6;font-size:0.9em}.ap--content p,.ap--content code,.ap--section p,.ap--section code{overflow-wrap:break-word}.ap--content a,.ap--section a{position:relative;z-index:10}.ap--content a code,.ap--section a code{color:#005AF0;z-index:-1}.ap--content pre,.ap--section pre{font-family:'Fira Mono', monospace;font-weight:500;font-size:1rem;white-space:pre-wrap}.ap--content>ul,.ap--content>ol,.ap--section>ul,.ap--section>ol{line-height:1.6rem;font-weight:normal;color:#48525C;display:block;margin-top:1.1em;margin-bottom:0;padding-left:2em;margin:1.5em 0 1.5em}.ap--content>ul ul,.ap--content>ul ol,.ap--content>ol ul,.ap--content>ol ol,.ap--section>ul ul,.ap--section>ul ol,.ap--section>ol ul,.ap--section>ol ol{padding-left:2em;margin:0}.ap--content>ul li,.ap--content>ol li,.ap--section>ul li,.ap--section>ol li{padding-left:0.5em}.ap--content>ul li p,.ap--content>ol li p,.ap--section>ul li p,.ap--section>ol li p{font-size:1em}.ap--content figure figcaption,.ap--section figure figcaption{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.8125rem;margin-top:0.3em}.ap--content hr,.ap--section hr{height:1px;margin:0.75em 0;background-color:#EBEBF0;border:none}.ap-m-lnk{display:flex;align-items:center;text-decoration:none;padding:0 0 1.5em;margin:0}.ap-m-lnk-text{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.875rem;font-weight:bold;color:#005AF0;line-height:1.3;transition:transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-m-lnk-icon{fill:#005AF0;padding:0.438em 0;margin-bottom:auto;margin-right:0.625em;box-sizing:initial;transition:transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-m-lnk:hover .ap-m-lnk-text,.ap-m-lnk:hover .ap-m-lnk-icon{transform:translateX(10px)}.ap-m-lnk-square{border-bottom:1px solid #EBEBF0}.ap-m-lnk-square .ap-m-lnk-text{font-size:1rem;font-family:'Poppins',  system;font-weight:700;color:#000;padding-left:10px}.ap-m-lnk-square .ap-m-lnk-icon{width:1.375em;height:1.375em;fill:#fff;background-color:#005AF0;overflow:hidden;padding:0.563em;box-shadow:0 10px 20px 0 rgba(0,0,0,0.25)}.ap-m-lnk-square:hover .ap-m-lnk-icon{box-shadow:0 10px 20px 0 rgba(0,0,0,0.25)}.ap-m-lnk-square:hover .ap-m-lnk-icon svg{animation:0.3s cubic-bezier(0.25, 0.1, 0.25, 1) duepduep}@keyframes duepduep{0%{transform:translate(0, 0)}49%{transform:translate(40px, 0)}50%{transform:translate(-40px, 0)}100%{transform:translate(0, 0)}}a{font-weight:bold;text-decoration:none;color:#005AF0}a code{display:inline;padding:2px 4px;font-family:'Fira Mono', monospace;font-weight:500;word-break:normal;color:#000;background-color:#E2E5E6;font-size:0.9em;color:#005AF0}.ap-a-ico{display:flex;font-size:initial;box-sizing:initial;justify-content:center;width:1em;height:1em}.ap-a-btn{margin-top:1.5rem;margin-bottom:.75em;font-family:'Poppins',  system;font-weight:700;line-height:1.2em;color:#20202A;font-size:1em;color:#fff;display:inline-block;max-width:100%;width:auto;height:auto;padding:0.75em 1.75em;margin:0;text-decoration:none;text-align:center;border-radius:3px;background-color:#005AF0;border:none;cursor:pointer;box-shadow:0 15px 35px -5px rgba(0,0,0,0.25);transition:transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1),box-shadow 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-a-btn:hover{transform:translateY(-0.125em);box-shadow:0 25px 20px -15px rgba(0,0,0,0.15)}@media (min-width: 768px){.ap-a-btn{padding:1em 2em}}.ap-o-consent{right:20px;left:auto;bottom:20px;width:calc(100% - 40px);padding:15px;line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.875rem;background-color:#fff;box-shadow:0 15px 30px 0px rgba(0,0,0,0.15);border-radius:8px}@media (min-width: 768px){.ap-o-consent{max-width:500px}}.ap-o-consent-close{position:absolute;right:15px;top:15px;-webkit-appearance:none;background-color:transparent;border:none;padding:0}.ap-o-consent-close svg{width:10px;height:10px}.ap-o-consent button{cursor:pointer}.ap--footer{position:relative;z-index:15;padding:3em 0 2em;line-height:1.6rem;font-weight:normal;color:#48525C;font-size:1rem;color:#fff;background:linear-gradient(45deg, #48525C, #20202A)}.ap-o-footer{width:100%;max-width:1440px;padding:0 20px;margin:0 auto}.ap-o-footer-line-top{padding-bottom:4em}@media (min-width: 768px){.ap-o-footer-line-top{display:flex;align-items:center}}.ap-o-footer-follow{display:flex;flex-direction:column;margin-left:auto}@media (min-width: 1024px){.ap-o-footer-follow{flex-direction:row}}.ap-o-footer-follow-title{margin:3em 2em 1em 0;color:#fff}@media (min-width: 768px){.ap-o-footer-follow-title{margin:auto 2em auto 1em}}.ap-o-footer-follow-menu{display:flex;list-style:none;padding:0;margin:0}.ap-o-footer-follow-item{flex:1 0 auto}@media (min-width: 768px){.ap-o-footer-follow-item{margin:16px}}.ap-o-footer-follow-icon{width:2.5em;height:2.5em;fill:#fff}@media (max-width: 240px){.ap-o-footer-follow-icon{font-size:14px}}@media (min-width: 768px){.ap-o-footer-nav{display:grid;grid-gap:30px;grid-template-columns:repeat(12, 1fr)}}.ap-o-footer-nav-column{flex:1 1 100%}.ap-o-footer-nav-column:nth-child(2n+1){grid-column:span 3}@media (max-width: 1023px){.ap-o-footer-nav-column:nth-child(2n+1){grid-column:span 6}}.ap-o-footer-nav-column:nth-child(2n+2){grid-column:span 3}@media (max-width: 1023px){.ap-o-footer-nav-column:nth-child(2n+2){grid-column:span 6}}.ap-o-footer-nav-title{color:#fff}.ap-o-footer-nav-menu{list-style:none;padding:0}@media (min-width: 768px){.ap-o-footer-nav-menu+.ap-o-footer-nav-title{margin-top:2.5em}}.ap-o-footer-nav-item{position:relative}.ap-o-footer-nav-link{padding-left:35px;font-size:0.8125rem;color:#fff}.ap-o-footer-nav-icon{position:absolute;left:10px;top:8px;width:12px;height:12px;fill:#fff}.ap-o-footer-line-bottom{display:flex;flex-direction:column;padding-top:4em}@media (min-width: 768px){.ap-o-footer-line-bottom{flex-direction:row;align-items:flex-end}}.ap-o-footer-openjsf{width:50%;max-width:200px;margin-bottom:40px;margin-right:auto}@media (min-width: 768px){.ap-o-footer-openjsf{margin-bottom:0}}.ap-o-footer-legal-nav-menu{list-style:none;padding:0;margin:0}.ap-o-footer-legal-nav-item{display:inline-block;margin-right:1em}.ap-o-footer-legal-nav-link{font-size:0.8125rem;font-weight:400;color:#fff}.ap-o-footer-copyright{display:block;font-size:0.875rem;margin-top:2em;color:#E2E5E6}.ap-o-footer-copyright a{color:#FAFAFC}.ap-m-tutorial-progress{position:absolute;top:0;left:-4px;height:100%;width:2px;background-color:#E2E5E6}.ap-m-tutorial-progress-finished{background-color:#09A600}.ap-m-format-toggle{position:-webkit-sticky;position:sticky;top:0;margin:0 10px;padding:10px 0 0 0;width:100%;max-width:85%;z-index:12}@media (min-width: 768px){.ap-m-format-toggle{padding:0;margin:0 15px 0 0;max-width:100%}}.ap-m-format-toggle-selected{border:0}.amp-mode-touch .ap-m-format-toggle-selected{position:relative}.ap-m-format-toggle-selected:focus:after,.ap-m-format-toggle-selected:hover:after{position:absolute;top:0;left:0;content:"";display:block;height:300%;width:100%}.ap-m-format-toggle-link,.ap-m-format-toggle-selected{z-index:3;display:flex;align-items:center;width:100%;margin:0 0 2px;padding:5px 8px;overflow:hidden;line-height:1.6rem;font-weight:normal;color:#48525C;font-family:'Poppins',  system;font-weight:700;font-size:12px;text-align:left;border-radius:4px;color:#000;background:#EBEBF0;transition:opacity 0.2s ease;box-shadow:0 5px 15px -5px rgba(0,0,0,0.25)}.ap-m-format-toggle-link .ap-a-ico,.ap-m-format-toggle-selected .ap-a-ico{width:14px;height:14px;margin-right:8px;fill:#000}.ap-m-format-toggle-link{color:#000;background:#EBEBF0}.ap-m-format-toggle-link .ap-a-ico{fill:#000}.ap-m-format-toggle-link-websites:hover,.ap-m-format-toggle-link-websites.ap-m-format-toggle-selected{background:linear-gradient(225deg, #00DCC0 0%, #005AF0 75%);color:#fff}.ap-m-format-toggle-link-websites:hover .ap-a-ico,.ap-m-format-toggle-link-websites.ap-m-format-toggle-selected .ap-a-ico{fill:#fff}.ap-m-format-toggle-link-stories:hover,.ap-m-format-toggle-link-stories.ap-m-format-toggle-selected{background:linear-gradient(225deg, #EC6600 0%, #FFDC00 75%);color:#20202A}.ap-m-format-toggle-link-stories:hover .ap-a-ico,.ap-m-format-toggle-link-stories.ap-m-format-toggle-selected .ap-a-ico{fill:#20202A}.ap-m-format-toggle-link-ads:hover,.ap-m-format-toggle-link-ads.ap-m-format-toggle-selected{background:linear-gradient(225deg, #EB49E1 0%, #5500D7 75%);color:#fff}.ap-m-format-toggle-link-ads:hover .ap-a-ico,.ap-m-format-toggle-link-ads.ap-m-format-toggle-selected .ap-a-ico{fill:#fff}.ap-m-format-toggle-link-email:hover,.ap-m-format-toggle-link-email.ap-m-format-toggle-selected{background:linear-gradient(225deg, #09A600 0%, #E1EB64 75%);color:#20202A}.ap-m-format-toggle-link-email:hover .ap-a-ico,.ap-m-format-toggle-link-email.ap-m-format-toggle-selected .ap-a-ico{fill:#20202A}.ap-m-format-toggle-angle{margin-right:0;margin-left:auto}.ap-m-format-toggle-formats{position:absolute;width:100%;z-index:2;pointer-events:none;opacity:0;transform:translateY(-20px);transition:all 0.2s ease;transition-delay:0.05s}.ap-m-format-toggle-selected:focus+.ap-m-format-toggle-formats,.ap-m-format-toggle-selected:hover+.ap-m-format-toggle-formats,.ap-m-format-toggle-formats:focus-within,.ap-m-format-toggle-formats:hover{pointer-events:auto;opacity:1;transform:translateY(0)}body{top:0;left:0;background-repeat:no-repeat;background-size:100% auto;background-position:top right;background-attachment:fixed}body.ap--websites{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 768'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='239.67' y1='855.23' x2='606.28' y2='-152.04' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23d5e6f2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg%3E%3Cpath fill='url(%23a)' d='M0 0h1024v214L786.37 768H0V0z'/%3E%3C/g%3E%3C/svg%3E%0A")}body.ap--ads{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 768'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='239.67' x2='606.28' y1='855.23' y2='-152.04' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23ddd3eb'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg%3E%3Cpath fill='url(%23a)' d='M0 0h1024v214L786.37 768H0V0z'/%3E%3C/g%3E%3C/svg%3E%0A")}body.ap--stories{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 768'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='239.67' x2='606.28' y1='855.23' y2='-152.04' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23ebdfd3'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg%3E%3Cpath fill='url(%23a)' d='M0 0h1024v214L786.37 768H0V0z'/%3E%3C/g%3E%3C/svg%3E%0A")}body.ap--email{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 768'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='239.67' x2='606.28' y1='855.23' y2='-152.04' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23d7ebd3'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg%3E%3Cpath fill='url(%23a)' d='M0 0h1024v214L786.37 768H0V0z'/%3E%3C/g%3E%3C/svg%3E%0A")}.ap--ampsidebar{width:100%;max-width:90vw;background:#FAFAFC}.ap--ampsidebar-toolbar{top:86px;height:100vh;max-height:calc(100vh - 86px)}@media (min-width: 768px){.ap--ampsidebar-toolbar{position:-webkit-sticky;position:sticky;overflow:auto}}.ap--ampsidebar-toolbar>ul{-webkit-overflow-scrolling:touch;margin:0;padding:0}@media (min-width: 768px){.ap--ampsidebar-toolbar>ul{overflow:auto;max-height:100%}}.ap--ampsidebar-toolbar>ul::-webkit-scrollbar{width:6px;height:6px}.ap--ampsidebar-toolbar>ul::-webkit-scrollbar-thumb{border-radius:3px;background-color:#91979D}.ap--ampsidebar-toolbar>ul::-webkit-scrollbar-corner{background-color:transparent}.ap--ampsidebar-toolbar>ul::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.1)}.ap-o-sidebar-default{max-width:100%}@media (min-width: 768px){.ap-o-sidebar-default .ap-o-sidebar{width:auto;min-height:400px;padding-bottom:0;margin-right:0;margin-left:-10px;background:none;box-shadow:none}}.ap-o-sidebar-default .nav{margin:15px 0 0;padding-bottom:15px}.ap-o-sidebar-default .nav-list{max-width:300px;list-style:none;padding:0;margin:0}.ap-o-sidebar-default .nav-list.level-1{margin:0 15px}.ap-o-sidebar-default .nav-list .nav-list{display:none;margin-bottom:20px}.ap-o-sidebar-default .nav-item{position:relative;margin:0;padding:0}.ap-o-sidebar-default .nav-item.level-1{border-bottom:1px solid rgba(0,0,0,0.15)}.ap-o-sidebar-default .nav-item.level-1:last-child{border-bottom:none}.ap-o-sidebar-default .nav-item.level-1 .nav-link{padding:10px 25px 10px 20px;text-transform:uppercase;font-size:1.125rem;font-weight:bold;font-family:'Poppins',  system;font-weight:700;color:#000}.ap-o-sidebar-default .nav-item.level-1 .nav-trigger,.ap-o-sidebar-default .nav-item.level-1 .nav-icon{height:46px}.ap-o-sidebar-default .nav-item.level-1 .nav-icon .ap-a-ico{margin-top:16px}.ap-o-sidebar-default .nav-item.level-2 .nav-link{padding:7px 25px 8px 20px;text-transform:unset;line-height:1.6rem;font-weight:normal;color:#48525C;font-family:'Noto Sans', system;font-size:0.875rem;line-height:1.4em}.ap-o-sidebar-default .nav-item.level-2 .nav-trigger,.ap-o-sidebar-default .nav-item.level-2 .nav-icon{height:33px}.ap-o-sidebar-default .nav-item.level-2 .nav-icon .ap-a-ico{width:10px;height:10px;margin-top:10px}.ap-o-sidebar-default .nav-item.level-3{margin-left:24px}.ap-o-sidebar-default .nav-item.level-3 .nav-link{padding:7px 25px 8px 20px;font-size:0.8125rem}.ap-o-sidebar-default .nav-item.level-3.active{background:rgba(51,61,71,0.1);border-radius:4px}.ap-o-sidebar-default .nav-item.active>.nav-link{font-weight:bold;color:#005AF0}.ap-o-sidebar-default .nav-item:hover>.nav-link{color:#005AF0}.ap-o-sidebar-default .nav-item-tutorial-divider{border-bottom:1px dashed rgba(0,0,0,0.15)}.ap-o-sidebar-default .nav-item-tutorial-divider:first-child{display:none}.ap-o-sidebar-default .nav-item-tutorial-divider:last-child{display:none}.ap-o-sidebar-default .nav-link{position:relative;display:block;padding:0;margin:0;color:rgba(0,0,0,0.75);border:none;background-color:transparent}.ap-o-sidebar-default .nav-link-lastword{white-space:nowrap}.ap-o-sidebar-default .nav-icon,.ap-o-sidebar-default .nav-trigger{position:absolute;top:0;width:20px;padding:0;margin:0;background:none transparent;border:none;cursor:pointer}.ap-o-sidebar-default .nav-trigger{-webkit-appearance:none;z-index:1}.ap-o-sidebar-default .nav-trigger:checked ~ ul{display:block}.ap-o-sidebar-default .nav-trigger:checked+.nav-icon .ap-a-ico{transform:rotate(0)}.ap-o-sidebar-default .nav-trigger:focus{outline:1px dotted #212121;outline:5px auto -webkit-focus-ring-color}.ap-o-sidebar-default .nav-icon .ap-a-ico{width:12px;height:12px;transform:rotate(-90deg)}.ap-o-sidebar-default .nav-type-icon{display:inline-block;vertical-align:top;width:20px;height:20px;margin-left:6px}.ap-o-sidebar-default .nav span.nav-link+.nav-trigger{width:calc(100% + 15px)}.ap-m-tip{display:flex;padding:15px;margin-bottom:20px;border-radius:4px;background-color:#EBEBF0;border:1px solid #E2E5E6}@media (min-width: 768px){.ap-m-tip{padding:30px}}.ap-m-tip code{white-space:normal}.ap-m-tip-icon{width:36px;height:36px;margin-top:5px;margin-right:14px}@media (min-width: 768px){.ap-m-tip-icon{margin-right:26px}}.ap-m-tip-content{font-size:0.875rem}.ap-m-tip-content h4{font-size:1rem;margin:0 0 0.75em}.ap-m-tip-content p,.ap-m-tip-content ul,.ap-m-tip-content ol{font-size:0.875rem}.ap-m-tip-content p:first-child,.ap-m-tip-content ul:first-child,.ap-m-tip-content ol:first-child{margin-top:0}.ap-m-breadcrumbs{display:flex;align-items:center;font-family:'Poppins',  system;font-weight:700;font-size:0.8125rem}.ap-m-breadcrumbs-angle{width:10px;height:10px;margin:0 6px;transform:rotate(-90deg)}.ap--toc{width:100%}@media (min-width: 1024px){.ap--toc{background:none;box-shadow:none;padding-right:10px}}.ap-o-toc{--spacing-top: 90px;position:relative;z-index:1;top:0;right:0;width:calc(100% - 20px);overflow-y:auto;-webkit-overflow-scrolling:touch;background-color:#fff;box-shadow:0 2px 10px 0 rgba(0,0,0,0.07);border-radius:8px;padding:15px;margin-bottom:10px}.ap-o-toc::-webkit-scrollbar{width:6px;height:6px}.ap-o-toc::-webkit-scrollbar-thumb{border-radius:3px;background-color:#91979D}.ap-o-toc::-webkit-scrollbar-corner{background-color:transparent}.ap-o-toc::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.1)}@media (min-width: 768px){.ap-o-toc{width:100%}}@media (min-width: 1024px){.ap-o-toc{position:-webkit-sticky;position:sticky;z-index:1;padding:0 10px 0 0;margin:0;height:auto;top:var(--spacing-top);right:auto;padding-bottom:var(--spacing-top);background:none;box-shadow:none;overflow-y:scroll;max-height:calc(100vh - var(--spacing-top))}}.ap-o-toc-hl{font-family:'Poppins',  system;font-weight:700;cursor:pointer;width:100%;margin-bottom:0px}@media (min-width: 1024px){.ap-o-toc-hl{margin-bottom:10px}}.ap-o-toc-toggle{display:flex;align-items:center;justify-content:space-between;outline:0}@media (min-width: 1024px){.ap-o-toc-toggle{position:-webkit-sticky;position:sticky;top:0;background:#fafafc}}.ap-o-toc ul{list-style:none;margin:0;padding:0;transition:0.4s}.ap-o-toc ul>li a{display:block;padding-bottom:20px;line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.8125rem;font-weight:bold;line-height:1rem}.ap-o-toc ul>li>ul{padding-left:10px;text-transform:none}.ap-o-toc ul>li>ul li a{font-weight:normal}@media (max-width: 1023px){.ap-o-toc .ap-a-sidebar-toggle-input-toc:not(:checked)+ul{display:none;transition:0.2s}}@media (max-width: 1023px){.ap-o-toc .ap-a-sidebar-toggle-input-toc:checked+ul{margin-top:15px}}.ap-o-toc .nav-icon svg{width:15px;height:15px}@media (min-width: 1024px){.ap-o-toc .nav-icon{display:none}}.ap-o-toc .nav-icon .ap-a-ico{display:inline-block;transform:rotate(-90deg)}.ap-o-toc.contentmenuopen .nav-icon .ap-a-ico{transform:rotate(0)}#sidebar-left[aria-hidden="true"]:not([hidden]) ~ .ap--main .ap-a-sidebar-mobile-toggle-label{animation:moveSidebarToggleBackwards .233s cubic-bezier(0, 0, 0.21, 1) forwards}#sidebar-left[aria-hidden="true"]:not([hidden]) ~ .ap--main .ap-a-sidebar-mobile-toggle-label .label-icon svg{transform:rotate(180deg)}#sidebar-left[aria-hidden="true"]:not([hidden]) ~ .ap--main .ap-a-sidebar-mobile-toggle-label .label-title{transform:translateX(0) scaleX(1);transform-origin:left center}#sidebar-left[open] ~ .ap--main .ap-a-sidebar-mobile-toggle-label{left:0;margin-left:0;animation:moveSidebarToggleForwards .233s cubic-bezier(0, 0, 0.21, 1) forwards}#sidebar-left[open] ~ .ap--main .ap-a-sidebar-mobile-toggle-label .label-icon svg{transform:rotate(0)}#sidebar-left[open] ~ .ap--main .ap-a-sidebar-mobile-toggle-label .label-title{transform:translateX(-150vw) scaleX(0);transform-origin:left center}#sidebar-left[open] ~ .ap--main .ap-a-sidebar-mobile-toggle-label,#sidebar-left[aria-hidden="true"]:not([hidden]) ~ .ap--main .ap-a-sidebar-mobile-toggle-label{z-index:9999999999}@keyframes moveSidebarToggleBackwards{from{transform:translateX(calc(90vw - 50%))}to{transform:translateX(0)}}@keyframes moveSidebarToggleForwards{from{transform:translateX(0)}to{transform:translateX(calc(90vw - 50%))}}.ap--sidebar-toggle-observer{position:absolute;top:50px}.ap-a-sidebar-toggle-input{position:fixed;top:-99px}.ap-a-sidebar-toggle-label{position:fixed;z-index:15;font-size:12px;font-family:'Poppins',  system;font-weight:700;color:#fff;fill:#fff;cursor:pointer;display:flex;align-items:center}.ap-a-sidebar-toggle-label .label-icon{border-radius:4px;background:#005AF0;height:35px;width:32px;padding-left:2px;display:flex;justify-content:center;align-items:center;box-shadow:0 10px 20px -5px rgba(0,0,0,0.25);z-index:1}.ap-a-sidebar-toggle-label .label-icon svg{height:14px;width:14px;transition:transform .233s cubic-bezier(0, 0, 0.21, 1)}.ap-a-sidebar-toggle-label .label-title{left:32px;display:flex;align-items:center;height:35px;margin-left:-5px;padding:5px 10px 5px 5px;white-space:nowrap;border-radius:0 4px 4px 0;background:#005AF0;box-shadow:0 10px 20px -5px rgba(0,0,0,0.25);transform:scale3d(0, 1, 1);transform-origin:left;transition:transform .233s cubic-bezier(0, 0, 0.21, 1)}.ap-a-sidebar-mobile-toggle-input{position:fixed;top:-99px}.ap-a-sidebar-mobile-toggle-label{margin-top:-52px;margin-left:-25px}@media (min-width: 768px){.ap-a-sidebar-mobile-toggle-label{display:none}}.ap-a-sidebar-mobile-toggle-label .label-icon svg{transform:rotate(180deg)}.ap-a-sidebar-desktop-toggle{display:none}.ap-a-sidebar-desktop-toggle-input{position:fixed;top:-99px}.ap-a-sidebar-desktop-toggle-label{display:none}@media (min-width: 768px) and (max-width: 1440px){.ap-a-sidebar-desktop-toggle{display:inline-block}.ap-a-sidebar-desktop-toggle-label{position:-webkit-sticky;position:sticky;top:138px;display:inline-flex;transform:translate(-40px, -52px)}.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--sidebar{grid-column:1 / 2}.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--sidebar nav{display:none}.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--sidebar svg{transform:rotate(180deg)}}@media (min-width: 768px) and (max-width: 1440px) and (max-width: 1023px){.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--toc{grid-column:2 / 25}}@media (min-width: 768px) and (max-width: 1440px){.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--toc ~ .ap--content{padding-left:80px;padding-right:80px;grid-column:2 / 20}}@media (min-width: 768px) and (max-width: 1440px) and (max-width: 1023px){.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--toc ~ .ap--content{grid-column:2 / 25}}@media (min-width: 768px) and (max-width: 1440px){.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--content,.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--help{grid-column-start:2;padding-left:80px;padding-right:80px}.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--content .ap-a-sidebar-desktop-toggle-label,.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--help .ap-a-sidebar-desktop-toggle-label{margin-left:-88px}.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--content .ap-a-sidebar-desktop-toggle-label .label-icon svg,.ap-a-sidebar-desktop-toggle-input:checked ~ .ap--help .ap-a-sidebar-desktop-toggle-label .label-icon svg{transform:rotate(180deg)}}.ap-m-format-filter-hint-banner{display:none}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner{height:60px;max-width:2020px;margin:0 auto;color:#fff;background-color:#20202A;font-size:0.875rem;z-index:100}@media (min-width: 768px){.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner{display:block}}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-content{position:relative;display:flex;align-items:center;width:100%;height:100%;max-width:1440px;padding:12px 15px;margin:0 auto}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-content:after{position:absolute;content:"";top:60px;left:50px;width:0;height:0;border-style:solid;border-width:16px 12px 0;border-color:#29323c transparent transparent}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-note{flex:1 0;padding-right:10px}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-formats{display:none;flex:1 0 auto}@media (min-width: 768px){.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-formats{display:flex}}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-format{cursor:pointer;max-width:150px;margin-right:10px;margin-bottom:0}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-format:after{display:none}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-dismiss{border-radius:50%;height:20px;width:20px;background-color:#fff;border:0;cursor:pointer}.ap-m-format-filter-hint.amp-active ~ .ap-m-format-filter-hint-banner .ap-m-format-filter-hint-banner-dismiss svg{fill:#005AF0;width:110%;height:110%}.ap-o-search{z-index:9999}.ap-o-search-escaper{position:fixed;left:0;top:0;right:0;bottom:0;opacity:0.6;background:#000}.ap-o-search-container{position:relative;width:90vw;padding:23px 0 0;margin:0;background:#FAFAFC;box-shadow:0 2px 50px 0 rgba(0,0,0,0.5)}@media (min-width: 1024px){.ap-o-search-container{width:100%;max-width:900px;padding:32px 60px 0;margin:0 auto}}@media (min-width: 1280px){.ap-o-search-container{max-width:1060px;padding:32px 140px 0}}@media (min-width: 1440px){.ap-o-search-container{max-width:1200px;padding:32px 210px 0}}.ap-o-search-form{position:relative;z-index:2}.ap-o-search-autocomplete{width:100%}@media (max-width: 1023px){.ap-o-search-autocomplete{width:calc(100% - 40px);left:15px}}.ap-o-search-autocomplete div[role="listbox"]{width:100%;max-height:210px;margin-top:-4px;margin-left:0;border-radius:0 0 4px 4px;box-shadow:0 15px 20px 0 rgba(0,0,0,0.1)}.ap-o-search-autocomplete div[role="listbox"]:not(:empty)::before{content:'';display:block;position:sticky;position:-webkit-sticky;left:10px;top:0;width:calc(100% - 20px);height:1px;background:#CECED2;z-index:1}@media (min-width: 1024px){.ap-o-search-autocomplete div[role="listbox"]:not(:empty)::before{left:60px;width:calc(100% - 90px)}}.ap-o-search-autocomplete div[role="option"]{padding:14px 60px;font-family:'Poppins',  system;font-weight:700;color:#20202A}@media (max-width: 1023px){.ap-o-search-autocomplete div[role="option"]{padding:14px 40px}}.ap-o-search-autocomplete div[role="option"]:hover,.ap-o-search-autocomplete div[role="option"][aria-selected="true"]{color:#005AF0;background:none}.ap-o-search-input{margin-top:1.5rem;margin-bottom:.75em;font-family:'Poppins',  system;font-weight:700;line-height:1.2em;color:#20202A;font-size:1.8rem;margin-top:2rem;line-height:1.4em;width:100%;padding:18px 160px 18px 60px;margin:0;border:none;border-radius:4px;background:transparent}@media (max-width: 1023px){.ap-o-search-input{font-size:1.125rem;padding:20px 20px 20px 40px}}.ap-o-search-input::-webkit-input-placeholder{color:#CECED2}.ap-o-search-input::-moz-placeholder{color:#CECED2}.ap-o-search-input:focus{outline:none;background:#fff;box-shadow:0 15px 20px 0 rgba(0,0,0,0.1)}.ap-o-search-input-icon{position:absolute;left:30px;top:32px;width:17px;height:17px}@media (max-width: 1023px){.ap-o-search-input-icon{width:18px;height:18px;left:11px;top:23px}}.ap-o-search-submit{margin-top:1.5rem;margin-bottom:.75em;font-family:'Poppins',  system;font-weight:700;line-height:1.2em;color:#20202A;font-size:1em;color:#fff;display:inline-block;max-width:100%;width:auto;height:auto;padding:0.75em 1.75em;margin:0;text-decoration:none;text-align:center;border-radius:3px;background-color:#005AF0;border:none;cursor:pointer;box-shadow:0 15px 35px -5px rgba(0,0,0,0.25);transition:transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1),box-shadow 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);opacity:0;pointer-events:none;position:absolute;top:11px;right:10px;box-shadow:none}.ap-o-search-submit:hover{transform:translateY(-0.125em);box-shadow:0 25px 20px -15px rgba(0,0,0,0.15)}@media (min-width: 768px){.ap-o-search-submit{padding:1em 2em}}@media (min-width: 768px){.ap-o-search-submit{padding:0.75em 1.75em}}@media (min-width: 1024px){.ap-o-search-submit{top:13px;right:30px;padding:1em 2em}}.ap-o-search-submit:hover{box-shadow:none}.ap-o-search-submit[disabled]{background-color:#E2E5E6;transform:none}@media (min-width: 1024px){.ap-o-search-submit:focus,.ap-o-search-input:focus+.ap-o-search-submit{opacity:1;pointer-events:auto}}.ap-o-search-result{overflow-x:hidden;overflow-y:auto;height:100vh;min-height:60vh;max-height:calc(100vh - 88px);padding:0 0 30px;-webkit-overflow-scrolling:touch;outline:none}@media (min-width: 1024px){.ap-o-search-result{max-height:calc(100vh - 108px);margin-right:30px}.ap-o-search-result::-webkit-scrollbar{width:6px;height:6px}.ap-o-search-result::-webkit-scrollbar-thumb{border-radius:3px;background-color:#91979D}.ap-o-search-result::-webkit-scrollbar-corner{background-color:transparent}.ap-o-search-result::-webkit-scrollbar-thumb{background:#E2E5E6}}.ap-o-search-result::before{content:'';display:block;height:2em;position:sticky;position:-webkit-sticky;top:0;background:linear-gradient(0deg, rgba(250,250,252,0) 0%, #FAFAFC 100%);z-index:1}.ap-o-search-result .amp-active{position:relative;height:60vh}.ap-o-search-result-list:last-child .ap-o-search-result-item:last-child{margin-bottom:30px}.ap-o-search-result-list .ap-o-search-result-hint{margin-top:30px}.ap-o-search-result-category{padding:30px 0 0;margin:1.5rem 25px 10px;color:#CECED2;border-top:1px solid #CECED2}@media (min-width: 1024px){.ap-o-search-result-category{margin:1.5rem 60px 10px}}.ap-o-search-result-category:first-child{margin-top:0;padding:0;border:none}.ap-o-search-result-item{margin:0 10px;border-radius:4px}@media (min-width: 1024px){.ap-o-search-result-item{margin:0 45px}}@media (min-width: 1024px){.ap-o-search-result-item:hover{background:#fff;box-shadow:0 15px 20px 0 rgba(0,0,0,0.1)}}@media (max-width: 1023px){.ap-o-search-result-item-highlight{margin:10px 25px;background:#fff;box-shadow:0 15px 20px 0 rgba(0,0,0,0.1)}}.ap-o-search-result-item:hover .ap-o-search-result-linklist,.ap-o-search-result-item .ap-o-search-result-link:focus .ap-o-search-result-linklist{opacity:1}.ap-o-search-result-item:focus-within .ap-o-search-result-linklist{opacity:1}.ap-o-search-result-link{display:block;padding:15px;line-height:1.6rem;font-weight:normal;color:#48525C}.ap-o-search-result-linklist{display:flex;justify-content:flex-end;padding:0 0 5px;margin:0 15px;border-top:1px solid #E8E8E9}@media (min-width: 1024px){.ap-o-search-result-linklist{padding:0;margin-top:-15px;border:none;opacity:0}}.ap-o-search-result-linklist-item{padding:0}@media (min-width: 1024px){.ap-o-search-result-linklist-item{padding-bottom:5px;margin-right:1.5rem}}.ap-o-search-result-linklist-item .ap-m-lnk-text{font-size:.75rem}.ap-o-search-result-linklist-item .ap-m-lnk-icon{width:12px;height:12px;margin-right:5px}.ap-o-search-result-linklist-item svg{width:100%}@media (max-width: 1023px){.ap-o-search-result-linklist-item-playground{display:none}}.ap-o-search-result-title{margin:0;font-size:1rem;color:#005AF0}.ap-o-search-result-description{font-size:.875rem;line-height:1.6;margin:0}.ap-o-search-result-load-button{display:flex;justify-content:center;margin-bottom:2rem}.ap-o-search-result-load-button .ap-a-btn{padding:.5rem 2rem;font-size:.875rem;color:#005AF0;border:2px solid #005AF0;background:transparent;box-shadow:none;opacity:.6}.ap-o-search-result-load-button .ap-a-btn:hover{transform:none;opacity:1}.amp-notsupported .ap-o-search-result-load-button{display:none}.ap-o-search-result-hint{padding:0 25px;font-size:.75rem}@media (min-width: 1024px){.ap-o-search-result-hint{padding:0 60px}}.ap-o-search-result-error{padding:14vh 15px 0;text-align:center}.ap-o-search-result-error-smiley,.ap-o-search-result-error-shruggie{margin-top:1.5rem;margin-bottom:.75em;font-family:'Poppins',  system;font-weight:700;line-height:1.2em;color:#20202A;font-size:16vw;margin:0;color:#EBEBF0}@media (min-width: 768px){.ap-o-search-result-error-smiley,.ap-o-search-result-error-shruggie{font-size:13vw}}@media (min-width: 1024px){.ap-o-search-result-error-smiley,.ap-o-search-result-error-shruggie{font-size:100px}}.ap-o-search-result-error-shruggie{font-family:Arial, Helvetica, sans-serif}.ap-o-search-result-error-copy{margin:0 0 2em}.ap-o-search .empty{overflow:hidden;height:0}.ap-o-burger-menu{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;padding:110px 20px 80px;z-index:16;background-color:#fff}@media (max-width: 240px){.ap-o-burger-menu{padding:37px 20px 0}.has-banner ~ .ap-o-burger-menu{padding:calc(37px + 31px) 0 0 20px}}.ap-o-burger-menu-label{position:fixed;z-index:1001;top:12px;right:20px;cursor:pointer}.ap-o-burger-menu-label.mainmenuopen{z-index:1004}.has-banner+.ap-o-burger-menu-label{top:calc(12px + 31px)}amp-user-notification[hidden]+.has-banner+.ap-o-burger-menu-label,.amp-hidden+.has-banner+.ap-o-burger-menu-label{top:12px}@media (min-width: 768px){.ap-o-burger-menu-label{right:30px}}@media (min-width: 1024px){.ap-o-burger-menu-label{display:none}}.ap-o-burger-menu-icon{width:30px;height:30px}@media (min-width: 1024px){.ap-o-burger-menu{display:none}}.ap-o-burger-menu.mainmenuopen{display:block;z-index:1003}.ap-o-burger-menu.mainmenuopen ~ .ap--main{max-height:calc(100vh - 55px)}.has-banner+.ap-o-burger-menu.mainmenuopen ~ .ap--main{max-height:calc(100vh - 55px - 31px)}.ap-o-burger-menu.mainmenuopen ~ .ap--footer{display:none}.ap-o-burger-menu-items{list-style:none;display:flex;flex-direction:column;height:100%;margin:0;margin-top:1rem;padding:0;overflow-y:auto;-webkit-overflow-scrolling:touch}@media (max-width: 240px){.ap-o-burger-menu-items{padding:1rem 0}}.ap-o-burger-menu-items .ap-o-burger-menu-items{margin-top:1rem}.ap-o-burger-menu-items .ap-o-burger-menu-items .ap-o-burger-menu-item:last-child{margin-bottom:0}.ap-o-burger-menu-item{margin-bottom:1rem;position:relative}.ap-o-burger-menu-item:last-child{margin-top:auto}.ap-o-burger-menu-item ul{display:none}.ap-o-burger-menu-item-trigger{position:absolute;left:0;top:0;width:100%;height:36px;padding:0;margin:0;background:none transparent;border:none;cursor:pointer;-webkit-appearance:none}.ap-o-burger-menu-item-trigger:focus{outline:-webkit-focus-ring-color auto 5px}.ap-o-burger-menu-item-trigger:checked ~ ul{display:block}.ap-o-burger-menu-item-trigger:checked+.nav-icon .ap-a-ico{transform:rotate(0)}.ap-o-burger-menu-item-trigger+.nav-icon .ap-a-ico{display:inline-block;transform:rotate(-90deg)}.ap-o-burger-menu-item .ap-a-ico{height:0.6em;margin-bottom:0.3em;margin-left:0.3em;width:0.6em}.ap-m-language-selector{position:relative;margin-right:20px;padding-bottom:10px;display:none}@media (max-width: 240px){.ap-m-language-selector{margin-right:0}}@media (min-width: 1024px){.ap-m-language-selector{margin-right:0;padding-right:30px;display:block}}.ap-m-language-selector-label{display:flex;align-items:center;font-size:11px;border:none;background:none}.ap-m-language-selector-label:hover{color:#005AF0}.ap-m-language-selector-toggle{position:absolute;left:0;top:0;width:100%;height:100%;margin:0;padding:0;border:0;-webkit-appearance:none}@media (min-width: 1024px){.ap-m-language-selector-toggle{width:calc(100% - 30px)}}.ap-m-language-selector-icon{width:10px;height:10px;margin-left:5px}.ap-m-language-selector-list{list-style:none;display:none;position:absolute;right:15%;margin:0;padding:2px 8px;background:#fff;box-shadow:0 2px 10px 0 rgba(0,0,0,0.07)}@media (max-width: 240px){.ap-m-language-selector-list{overflow:auto;max-height:calc(100vh - 55px - 31px)}}.ap-m-language-selector .ap-m-nav-link{display:block}.ap-m-language-selector-toggle:hover ~ .ap-m-language-selector-list,.ap-m-language-selector-toggle:checked ~ .ap-m-language-selector-list,.ap-m-language-selector-list:hover{display:block}.ap-m-language-selector-list:focus-within{display:block}.mainmenuopen .ap-m-language-selector{display:block}.ap-m-search-trigger{padding:5px 0;margin:0 20px 9px 0;cursor:pointer}@media (max-width: 1023px){.ap-o-header .ap-m-search-trigger{order:1;padding:0;margin:0 70px 9px auto}.mainmenuopen .ap-o-header .ap-m-search-trigger{margin-left:0}}@media (max-width: 240px){.ap-o-header .ap-m-search-trigger{margin-right:60px}}.ap-m-search-trigger-close{position:fixed;left:calc(90vw - 18px);top:35px;padding:12px;margin:0;fill:#fff;background:#005AF0;border-radius:50%;box-shadow:0px 6px 10px 0px rgba(0,0,0,0.14);z-index:3}@media (min-width: 1024px){.ap-m-search-trigger-close{position:absolute;left:auto;right:10px;top:52px}}@media (min-width: 1280px){.ap-m-search-trigger-close{right:52px}}@media (min-width: 1440px){.ap-m-search-trigger-close{right:87px}}.ap-m-search-trigger-close .ap-m-search-trigger-icon{width:12px;height:12px}.ap-m-search-trigger-icon{width:18px;height:18px}.ap-m-nav-link{font-family:'Poppins',  system;font-weight:700;font-size:1.5em;color:#000}@media (min-width: 1024px){.ap-m-nav-link{font-size:1rem}}.ap-m-nav-link-2{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:1rem}@media (min-width: 1024px){.ap-m-nav-link-2{font-size:0.875rem}}.ap-m-nav-link-2.active{text-decoration:underline}.ap-m-nav-link:hover{color:#005AF0}.ap-m-nav-link.active{font-weight:bold;color:#005AF0}.ap--header{width:100%;max-width:2020px;margin:0 auto;position:-webkit-sticky;position:sticky;top:0;z-index:1001;background-color:#fff;box-shadow:0 2px 10px 0 rgba(0,0,0,0.07)}.ap--header.mainmenuopen{z-index:1004}.ap--header.mainmenuopen ~ .ap--main{max-width:100vw;overflow-x:hidden}@media (min-width: 1024px){.ap--header{top:0px}.ap--header.has-banner{top:-31px}}.ap-o-header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;max-width:1460px;padding:10px 0 0 20px;margin:0 auto}@media (min-width: 1024px){.ap-o-header{display:flex;padding-left:30px}}.ap-o-header-home{position:-webkit-sticky;position:sticky;top:10px;display:flex;align-items:center;margin-right:auto;padding-bottom:10px;overflow:hidden}.ap-o-header-home-logo{height:30px;margin-right:6px;width:30px}.ap-o-header-home-title,.ap-o-header-home-sub-title{margin-left:4px;font-family:'Poppins',  system;font-weight:700;font-size:1.5em;color:#005AF0}@media (min-width: 1024px){.ap-o-header-home-title,.ap-o-header-home-sub-title{font-size:1.125rem}}.ap-o-header-home-sub-title{color:#000;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.ap-o-header-main{display:none;flex:1 1 auto;padding:0 30px}@media (min-width: 1024px){.ap-o-header-main{display:flex}}.ap-o-header-main-item{position:relative;display:flex;align-items:center;margin:0 18px -5px}.ap-o-header-main-link{display:flex;align-items:center;padding:0 0 14px 0;border:0;background:none}.ap-o-header-main-link-icon{font-size:8px;margin-left:5px;transform:rotate(0deg);transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-o-header-main-link:hover ~ .ap-o-header-flyout,.ap-o-header-main-link:focus ~ .ap-o-header-flyout,.ap-o-header-flyout:hover{opacity:1;pointer-events:all;transition:opacity 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-o-header-flyout:focus-within{opacity:1;pointer-events:all;transition:opacity 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-o-header-flyout{box-shadow:0 10px 25px 0 rgba(0,0,0,0.2);position:absolute;top:95%;left:0;margin:0;padding:0 0 10px;pointer-events:none;opacity:0;list-style:none;background:#fff;border-radius:0 0 4px 4px;transition:opacity 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.ap-o-header-flyout:before{content:"";display:block;background:linear-gradient(to bottom, rgba(0,0,0,0.07) 0%, rgba(255,255,255,0.07) 100%);height:8px;margin-bottom:10px}.ap-o-header-flyout-item-secondary{margin:20px 0;white-space:nowrap;min-width:200px}.ap-o-header-flyout-item-secondary a:hover{color:#005AF0}.ap-o-header-flyout-item-title{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.875rem;font-weight:bold;font-family:'Poppins',  system;font-weight:700;color:#000;line-height:1.4em}.ap-o-header-flyout-item-title.secondary{padding:0 15px}.ap-o-header-flyout-item-description{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.8125rem;opacity:0.75;line-height:1.25em}.ap-o-header-flyout-primary-item{position:relative;width:300px}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link{box-shadow:0 10px 25px 0 rgba(0,0,0,0.2);background-color:#005AF0}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-info>*{color:#fff}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-info-stories .ap-o-header-flyout-item-title{color:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-info-stories .ap-o-header-flyout-item-description{color:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-info-email .ap-o-header-flyout-item-title{color:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-info-email .ap-o-header-flyout-item-description{color:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-icon{fill:#fff}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-icon.stories{fill:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link-icon.email{fill:#20202A}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link.websites{background:linear-gradient(225deg, #00DCC0 0%, #005AF0 75%)}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link.stories{background:linear-gradient(225deg, #EC6600 0%, #FFDC00 75%)}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link.ads{background:linear-gradient(225deg, #EB49E1 0%, #5500D7 75%)}.ap-o-header-flyout-primary-item:hover .ap-o-header-flyout-primary-item-link.email{background:linear-gradient(225deg, #09A600 0%, #E1EB64 75%)}.ap-o-header-flyout-primary-item-link{display:flex;align-items:center;border-radius:4px;padding:10px;margin:0 5px}.ap-o-header-flyout-primary-item-link-info{margin:0 20px 0 15px}.ap-o-header-flyout-primary-item-link-icon{display:flex;font-size:initial;box-sizing:initial;justify-content:center;width:2em;height:2em}.ap-o-header-flyout-primary-item-link-icon.websites{fill:url(#gradient-websites) #000}.ap-o-header-flyout-primary-item-link-icon.stories{fill:url(#gradient-stories) #000}.ap-o-header-flyout-primary-item-link-icon.ads{fill:url(#gradient-ads) #000}.ap-o-header-flyout-primary-item-link-icon.email{fill:url(#gradient-email) #000}#blm-banner{background:#111;color:#eee;display:block;text-align:center;padding:0.5em}.ap--main>.ap--container:first-child{padding-top:26px;padding-bottom:3rem}body{background-color:#FAFAFC}.ap-t-docs-detail .ap--container{position:relative;display:flex;flex-wrap:wrap;width:100%;max-width:1440px;padding:0 20px;margin-left:auto;margin-right:auto}@media (max-width: 767px){.ap-t-docs-detail .ap--container{padding:0 15px}}@media (min-width: 768px){.ap-t-docs-detail .ap--container{display:grid;grid-gap:30px;grid-template-columns:repeat(24, minmax(0, 1fr));padding:0 30px}}@media (min-width: 768px){.ap-t-docs-detail .ap--container{grid-gap:0}}@media (min-width: 1024px){.ap-t-docs-detail .ap--container{padding:0 15px}}.ap-t-docs-detail .ap--content,.ap-t-docs-detail .ap--help{grid-column:1;position:relative;width:100%;background:#FAFAFC}@media (min-width: 768px){.ap-t-docs-detail .ap--content,.ap-t-docs-detail .ap--help{grid-column:9 / 25}}@media (min-width: 1024px){.ap-t-docs-detail .ap--content,.ap-t-docs-detail .ap--help{grid-column:7 / 25}}@media (min-width: 1024px){.ap-t-docs-detail .ap--content p.limit,.ap-t-docs-detail .ap--help p.limit{max-width:70%}}@media (min-width: 768px){.ap-t-docs-detail .ap--content,.ap-t-docs-detail .ap--help{grid-column:8 / 25;padding-left:30px;padding-right:30px;padding-bottom:60px}}@media (min-width: 1024px){.ap-t-docs-detail .ap--content,.ap-t-docs-detail .ap--help{grid-column:6 / 24;padding-left:30px;padding-bottom:60px}}.ap-t-docs-detail .ap--sidebar{grid-column:auto;padding:0}@media (min-width: 768px){.ap-t-docs-detail .ap--sidebar{grid-column:1 / 8;grid-row:span 6;margin-right:20px}}@media (min-width: 1024px){.ap-t-docs-detail .ap--sidebar{grid-column:1 / 6}}.ap-t-docs-detail .ap--toc{box-shadow:20px 25px 40px 0 rgba(0,0,0,0.05)}.ap-t-docs-detail .ap--toc ~ .ap--content{box-shadow:-30px -5px 30px -20px rgba(0,0,0,0.05)}@media (min-width: 768px){.ap-t-docs-detail .ap--toc{grid-column:8 / 25}.ap-t-docs-detail .ap--toc ~ .ap--content{padding-top:0}}@media (min-width: 768px) and (min-width: 768px){.ap-t-docs-detail .ap--toc ~ .ap--content{grid-column:8 / 25;padding-left:30px}}@media (min-width: 768px) and (min-width: 1024px){.ap-t-docs-detail .ap--toc ~ .ap--content{grid-column:6 / 20;padding-left:30px;padding-right:30px}}@media (min-width: 768px) and (min-width: 768px){.ap-t-docs-detail .ap--toc ~ .ap--help ~ .ap--content{grid-column-end:25}}@media (min-width: 768px) and (min-width: 1024px){.ap-t-docs-detail .ap--toc ~ .ap--help ~ .ap--content{grid-column-end:25}}@media (min-width: 1024px){.ap-t-docs-detail .ap--toc{background:#FAFAFC;grid-column:20 / 25;grid-row:span 3;padding-top:93px;padding-bottom:25px}.ap-t-docs-detail .ap--toc ~ .ap--content{padding-top:62px}}@media (min-width: 1024px) and (max-width: 767px){.ap-t-docs-detail .ap--toc ~ .ap--content{padding-left:15px;padding-right:15px}}.ap-t-docs-detail .ap--sidebar+.ap--content,.ap-t-docs-detail .ap--toc+.ap--content{padding-top:62px}@media (max-width: 767px){.ap-t-docs-detail .ap--sidebar+.ap--content,.ap-t-docs-detail .ap--toc+.ap--content{padding-left:15px;padding-right:15px}}@media (min-width: 1024px){.ap-t-docs-detail .ap--sidebar+.ap--content:nth-of-type(2),.ap-t-docs-detail .ap--sidebar+.ap--content:nth-of-type(3),.ap-t-docs-detail .ap--toc+.ap--content:nth-of-type(2),.ap-t-docs-detail .ap--toc+.ap--content:nth-of-type(3){grid-row:1}}@media (max-width: 767px){.ap-t-docs-detail .ap--sidebar ~ .ap--content,.ap-t-docs-detail .ap--toc ~ .ap--content{padding-left:15px;padding-right:15px}}.ap-t-docs-detail .ap--content amp-anim{box-shadow:0 30px 30px -15px rgba(0,0,0,0.25)}@media screen and (max-width: 575px){.ap-t-docs-detail .ap--content figure{min-width:50vw}}.ap-t-docs-detail .ap--content figure.alignment-wrapper{margin-top:1.6rem}.ap-t-docs-detail .ap--content figure.left{text-align:left}.ap-t-docs-detail .ap--content figure.center{text-align:center}.ap-t-docs-detail .ap--content figure.right{text-align:right}@media (min-width: 768px){.ap-t-docs-detail .ap--content figure.half amp-img{width:50%}}.ap-t-docs-detail .ap--content figure.third amp-img{width:50%}@media (min-width: 768px){.ap-t-docs-detail .ap--content figure.third amp-img{width:33%}}.ap-t-docs-detail .ap--content figure.shadow amp-img{box-shadow:0 30px 30px -15px rgba(0,0,0,0.25)}.ap-t-docs-detail .ap--content figure amp-img{margin:0 auto}.ap-t-docs-detail .ap--content figure figcaption{line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.8125rem;padding-top:20px;max-width:300px}.ap-t-docs-detail .ap--chapter-indicator{display:flex;justify-content:space-between}.ap-t-docs-detail .ap--chapter-indicator .ap-a-btn{margin:0 auto}.ap-t-docs-detail .ap--chapter-indicator .ap--previous .ap-m-lnk-icon{transform:scaleX(-1)}.ap-t-docs-detail .ap--chapter-indicator .ap--next{justify-self:flex-end}.ap-t-docs-detail .ap--chapter-indicator .ap--next .ap-m-lnk-icon{margin-left:0.625em;margin-right:0}.ap-t-docs-detail .noshowtoc{display:none}.ap-m-code-snippet{display:flex;overflow-x:auto;margin:1.1rem 0 0 0;padding:0 1em;color:#fff;line-height:1.3em;background:#20202A;font-size:0.9em}.ap-m-code-snippet::after{content:'\00a0\00a0\00a0\00a0\00a0';-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ap-m-code-snippet::-webkit-scrollbar{width:6px;height:6px}.ap-m-code-snippet::-webkit-scrollbar-thumb{border-radius:3px;background-color:#91979D}.ap-m-code-snippet::-webkit-scrollbar-corner{background-color:transparent}.ap-m-code-snippet::-webkit-scrollbar-thumb{border-radius:0}@media (min-width: 768px){.ap-m-code-snippet{max-width:100%;margin-right:-30px}}.ap-m-code-snippet pre,.ap-m-code-snippet code{font-family:'Fira Mono', monospace;font-weight:500;white-space:pre-wrap;font-size:0.9rem;padding:unset;word-break:initial;color:inherit;background:none}.ap-m-code-snippet .hll{background-color:#49483e}.ap-m-code-snippet .c{color:#75715e}.ap-m-code-snippet .k{color:#66d9ef}.ap-m-code-snippet .l{color:#ae81ff}.ap-m-code-snippet .n{color:#f8f8f2}.ap-m-code-snippet .o{color:#f15a5a}.ap-m-code-snippet .p{color:#f8f8f2}.ap-m-code-snippet .ch{color:#75715e}.ap-m-code-snippet .cm{color:#75715e}.ap-m-code-snippet .cp{color:#75715e}.ap-m-code-snippet .cpf{color:#75715e}.ap-m-code-snippet .c1{color:#75715e}.ap-m-code-snippet .cs{color:#75715e}.ap-m-code-snippet .gd{color:#f15a5a}.ap-m-code-snippet .ge{font-style:italic}.ap-m-code-snippet .gi{color:#a6e22e}.ap-m-code-snippet .gs{font-weight:bold}.ap-m-code-snippet .gu{color:#75715e}.ap-m-code-snippet .kc{color:#66d9ef}.ap-m-code-snippet .kd{color:#66d9ef}.ap-m-code-snippet .kn{color:#f15a5a}.ap-m-code-snippet .kp{color:#66d9ef}.ap-m-code-snippet .kr{color:#66d9ef}.ap-m-code-snippet .kt{color:#66d9ef}.ap-m-code-snippet .ld{color:#e6db74}.ap-m-code-snippet .m{color:#ae81ff}.ap-m-code-snippet .s{color:#e6db74}.ap-m-code-snippet .na{color:#a6e22e}.ap-m-code-snippet .nb{color:#f8f8f2}.ap-m-code-snippet .nc{color:#a6e22e}.ap-m-code-snippet .no{color:#66d9ef}.ap-m-code-snippet .nd{color:#a6e22e}.ap-m-code-snippet .ni{color:#f8f8f2}.ap-m-code-snippet .ne{color:#a6e22e}.ap-m-code-snippet .nf{color:#a6e22e}.ap-m-code-snippet .nl{color:#f8f8f2}.ap-m-code-snippet .nn{color:#f8f8f2}.ap-m-code-snippet .nx{color:#ffffff}.ap-m-code-snippet .py{color:#f8f8f2}.ap-m-code-snippet .nt{color:#f15a5a}.ap-m-code-snippet .nv{color:#f8f8f2}.ap-m-code-snippet .ow{color:#f15a5a}.ap-m-code-snippet .w{color:#f8f8f2}.ap-m-code-snippet .mb{color:#ae81ff}.ap-m-code-snippet .mf{color:#ae81ff}.ap-m-code-snippet .mh{color:#ae81ff}.ap-m-code-snippet .mi{color:#ae81ff}.ap-m-code-snippet .mo{color:#ae81ff}.ap-m-code-snippet .sa{color:#e6db74}.ap-m-code-snippet .sb{color:#e6db74}.ap-m-code-snippet .sc{color:#e6db74}.ap-m-code-snippet .dl{color:#e6db74}.ap-m-code-snippet .sd{color:#e6db74}.ap-m-code-snippet .s2{color:#e6db74}.ap-m-code-snippet .se{color:#ae81ff}.ap-m-code-snippet .sh{color:#e6db74}.ap-m-code-snippet .si{color:#e6db74}.ap-m-code-snippet .sx{color:#e6db74}.ap-m-code-snippet .sr{color:#e6db74}.ap-m-code-snippet .s1{color:#e6db74}.ap-m-code-snippet .ss{color:#e6db74}.ap-m-code-snippet .bp{color:#f8f8f2}.ap-m-code-snippet .fm{color:#a6e22e}.ap-m-code-snippet .vc{color:#f8f8f2}.ap-m-code-snippet .vg{color:#f8f8f2}.ap-m-code-snippet .vi{color:#f8f8f2}.ap-m-code-snippet .vm{color:#f8f8f2}.ap-m-code-snippet .il{color:#ae81ff}table{table-layout:fixed;width:100%;position:relative;border-collapse:collapse;padding:0 0 0 20px;margin:1.5em -20px 2em -20px;display:block;overflow-x:auto;-webkit-overflow-scrolling:touch;line-height:1.6rem;font-weight:normal;color:#48525C;font-size:0.875rem}@media (min-width: 768px){table{padding:0;margin:1.5em 0 2em}}thead{font-weight:bold}thead tr{text-align:left}thead tr th{padding:20px;border-bottom:1px solid #E2E5E6}tbody tr{border-bottom:1px solid #E2E5E6}tbody tr:nth-child(odd){background-color:rgba(255,255,255,0.5)}tbody tr td:nth-child(1){border-right:1px solid #E2E5E6}tbody td{padding:10px 20px;text-align:left;vertical-align:top;width:50%}@media (min-width: 768px){tbody td{padding:20px}}@media (min-width: 1024px){tbody td{width:25%}}tbody td code{display:inline;padding:2px 4px;font-family:'Fira Mono', monospace;font-weight:500;word-break:normal;color:#000;background-color:#E2E5E6;font-size:0.9em;color:#005AF0}
    </style>
    <link rel="manifest" href="/manifest.json">

    
  </head>
  <body class="[= 'ap--' + format if format =]">
	  <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <symbol id="stackoverflow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 25"><path d="M14.2 14.7h1.6V25H0V14.7h1.6v8.6h12.5c.1-2.8.1-5.7.1-8.6zM9.5 3.2c1.8 2.7 3.6 5.4 5.4 8.2.6-.4 1.1-.8 1.7-1.2C14.8 7.5 13 4.8 11.2 2c-.5.5-1.1.8-1.7 1.2zm5.1 8.5c-2.8-1.7-5.5-3.3-8.2-5-.4.6-.7 1.2-1.1 1.8 2.7 1.7 5.5 3.3 8.2 5 .4-.6.8-1.2 1.1-1.8zM17.4 0c-.7.1-1.3.2-2 .4.5 3.2 1.1 6.5 1.6 9.7.7-.1 1.3-.2 2-.4-.5-3.2-1.1-6.5-1.6-9.7zm-4 14.1c-3.1-.9-6.2-1.7-9.2-2.6-.2.7-.4 1.4-.5 2 3.1.9 6.2 1.7 9.2 2.6.1-.6.3-1.3.5-2zm-.9 5.5H3v2.1h9.5v-2.1zm.3-2.7c-3.2-.3-6.3-.6-9.5-.9-.1.7-.1 1.4-.2 2.1 3.2.3 6.3.6 9.5.9 0-.8.1-1.4.2-2.1z"/></symbol><symbol id="github" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M32 0.792c-17.68 0-32 14.328-32 32 0 14.141 9.168 26.133 21.88 30.36 1.6 0.301 2.187-0.688 2.187-1.539 0-0.76-0.027-2.773-0.040-5.44-8.901 1.931-10.779-4.293-10.779-4.293-1.456-3.693-3.56-4.68-3.56-4.68-2.899-1.984 0.224-1.944 0.224-1.944 3.213 0.224 4.901 3.296 4.901 3.296 2.853 4.893 7.491 3.48 9.32 2.661 0.288-2.069 1.112-3.48 2.027-4.28-7.107-0.8-14.576-3.552-14.576-15.813 0-3.493 1.24-6.347 3.293-8.587-0.36-0.808-1.44-4.061 0.28-8.469 0 0 2.68-0.859 8.8 3.28 2.56-0.712 5.28-1.064 8-1.080 2.72 0.016 5.44 0.368 8 1.080 6.080-4.139 8.76-3.28 8.76-3.28 1.72 4.408 0.64 7.661 0.32 8.469 2.040 2.24 3.28 5.093 3.28 8.587 0 12.293-7.48 15-14.6 15.787 1.12 0.96 2.16 2.923 2.16 5.92 0 4.283-0.040 7.723-0.040 8.763 0 0.84 0.56 1.84 2.2 1.52 12.803-4.197 21.963-16.197 21.963-30.317 0-17.672-14.328-32-32-32z"></path>
</symbol><symbol id="wordpress" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M57.251 18.2A28.688 28.688 0 0 1 60.766 32c0 10.611-5.749 19.883-14.301 24.867l8.787-25.405c1.64-4.107 2.187-7.389 2.187-10.304 0-1.08-.069-2.08-.187-2.96zm-21.283.277c1.725-.08 3.285-.28 3.285-.28 1.552-.2 1.371-2.48-.179-2.397 0 0-4.68.36-7.68.36-2.837 0-7.6-.4-7.6-.4-1.56-.08-1.763 2.28-.2 2.36 0 0 1.44.163 3 .24l4.48 12.28-6.32 18.88L14.277 18.4c1.731-.08 3.291-.267 3.291-.267 1.56-.2 1.376-2.48-.173-2.389 0 0-4.656.368-7.664.368-.533 0-1.168-.021-1.84-.04C13.096 8.4 21.96 3.24 32 3.24a28.642 28.642 0 0 1 19.429 7.555c-.123-.008-.243-.024-.376-.024-2.827 0-4.832 2.461-4.832 5.104 0 2.373 1.368 4.381 2.827 6.749 1.096 1.92 2.373 4.381 2.373 7.939 0 2.44-.944 5.317-2.189 9.277l-2.867 9.56-10.4-30.96.003.037zM32 60.757c-2.824 0-5.549-.408-8.128-1.165l8.632-25.083 8.84 24.232c.064.141.133.269.208.397A28.794 28.794 0 0 1 32 60.762zM3.229 32c0-4.171.896-8.133 2.493-11.707L19.439 57.89C9.85 53.226 3.231 43.389 3.228 31.999zM32 0C14.36 0 0 14.36 0 32s14.36 32 32 32 32-14.36 32-32S49.64 0 32 0z"/></symbol><symbol id="youtube" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M62.664 16.542c-.773-2.708-2.862-4.797-5.514-5.556l-.057-.014c-4.989-1.336-25.065-1.336-25.065-1.336s-20.026-.027-25.065 1.337c-2.708.773-4.797 2.862-5.556 5.514l-.014.057C.507 21.107 0 26.354 0 31.72l.001.327v-.017.252a83.84 83.84 0 0 0 1.475 15.695l-.083-.521c.773 2.708 2.862 4.797 5.513 5.556l.057.014c4.983 1.339 25.065 1.339 25.065 1.339s20.023 0 25.065-1.339c2.708-.773 4.797-2.862 5.556-5.514l.014-.057c.85-4.469 1.336-9.609 1.336-14.863l-.002-.595v.03c.002-.184.002-.403.002-.621 0-5.255-.486-10.396-1.416-15.38l.08.515zM25.621 41.608V22.42l16.71 9.609z"/></symbol><symbol id="twitter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M63.875 12.186c-2.36 1.037-4.88 1.744-7.533 2.067 2.704-1.629 4.784-4.197 5.768-7.261-2.536 1.48-5.346 2.557-8.338 3.157-2.389-2.557-5.794-4.157-9.576-4.157-7.245 0-13.119 5.874-13.119 13.111 0 1.040 0.12 2.040 0.339 2.997-10.906-0.515-20.572-5.752-27.042-13.669-1.139 1.925-1.776 4.162-1.776 6.6 0 4.56 2.32 8.568 5.834 10.922-2.152-0.069-4.176-0.661-5.941-1.643v0.163c0 6.36 4.514 11.663 10.522 12.871-1.101 0.296-2.264 0.456-3.456 0.456-0.837 0-1.64-0.080-2.443-0.229 1.683 5.208 6.52 9.005 12.277 9.112-4.48 3.517-10.157 5.613-16.271 5.613-1.040 0-2.077-0.061-3.12-0.179 5.837 3.717 12.714 5.89 20.151 5.89 24.143 0 37.329-19.989 37.329-37.294 0-0.557 0-1.12-0.040-1.68 2.563-1.837 4.8-4.16 6.56-6.794l-0.125-0.053z"></path>
</symbol><symbol id="download" viewBox="0 0 64 64">
  <path d="M8.8 62.32c0-0.88 0.72-1.68 1.68-1.68 10.8 0 32.32 0 43.040 0 0.88 0 1.68 0.72 1.68 1.68 0 0.88-0.72 1.68-1.68 1.68-10.8 0-32.32 0-43.040 0-0.96 0-1.68-0.72-1.68-1.68z"></path>
  <path d="M49.44 34.56c0.72-0.72 0.72-1.84 0-2.56s-1.84-0.72-2.56 0l-13.040 13.040v-43.28c0-0.96-0.88-1.76-1.84-1.76-1.040 0-1.84 0.8-1.84 1.76v43.28l-13.040-13.12c-0.72-0.72-1.84-0.72-2.56 0s-0.72 1.84 0 2.56l16.24 16.24c0.72 0.72 1.84 0.72 2.56 0l16.080-16.16z"></path>
</symbol><symbol id="angle-down-light" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M0.662 19.607c-0.441-0.412-0.662-0.927-0.662-1.494s0.221-1.082 0.662-1.494c0.883-0.825 2.317-0.825 3.2 0l28.138 26.28 28.138-26.28c0.883-0.825 2.317-0.825 3.2 0s0.883 2.164 0 2.989l-29.738 27.775c-0.883 0.825-2.317 0.825-3.2 0l-29.738-27.775z"></path>
</symbol><symbol id="tutorial" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16"><path fill="#005af0" d="M19.5 1.8h-1.4V.5c0-.1 0-.2-.1-.3-.1-.1-.2-.1-.3-.1h-5.9c-.7 0-1.4.3-1.8.9C9.6.4 8.9.1 8.2.1H2.3c-.1 0-.2 0-.3.1-.1.1-.1.2-.1.3v1.3H.5c-.1 0-.2 0-.3.1-.1.1-.1.2-.1.3v10.7c0 .1 0 .2.1.3s.2.1.3.1H5c2.5 0 3.3.7 4.6 2.5.1.1.2.2.4.2s.3-.1.4-.2c1.4-1.8 2.2-2.5 3.7-2.5h5.5c.1 0 .2 0 .3-.1s.1-.2.1-.3V2.2c0-.1 0-.2-.1-.3-.1-.1-.2-.1-.4-.1zM11.8.9h5.5v9.8h-5c-.7 0-1.3.3-1.8.8V2.2c0-.7.6-1.3 1.3-1.3zM2.7.9h5.5c.8 0 1.4.6 1.4 1.3v9.3c-.5-.5-1.1-.9-1.8-.9h-5V.9zm16.4 11.5h-5c-1.9 0-2.9.9-4.1 2.4-1.2-1.5-2.3-2.4-5-2.4H.9V2.6h.9V11c0 .1 0 .2.1.3s.2.1.3.1h5.5c.7 0 1.5.8 1.9 1.5.1.2.2.2.4.2h.1c.1 0 .2-.1.3-.2.4-.7 1.1-1.5 1.9-1.5h5.5c.1 0 .2 0 .3-.1s.1-.2.1-.3V2.6h.9v9.8zm-5.6-8.5c-.3 0-.5-.2-.5-.4s.2-.4.5-.4.5.2.5.4c-.1.2-.3.4-.5.4zm0 4.7c-.1 0-.2 0-.3-.1s-.1-.2-.1-.3V5.5c0-.2.2-.4.5-.4s.5.2.5.4v2.7c0 .1 0 .2-.1.3s-.4.1-.5.1zm-9-3.7c-.3 0-.5-.2-.5-.4s.2-.4.5-.4h3.2c.3 0 .5.2.5.4s-.2.4-.5.4H4.5zm0 2c-.3 0-.5-.2-.5-.4s.2-.4.5-.4h3.2c.3 0 .5.2.5.4s-.2.4-.5.4H4.5zm0 2c-.3 0-.5-.2-.5-.4s.2-.4.5-.4h3.2c.3 0 .5.2.5.4s-.2.4-.5.4H4.5z"/></symbol><symbol id="warning-sign" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><path stroke="#F3C000" stroke-width="2" d="M19.843 2.29l16.643 33.671c.177.356.03.788-.326.964-.1.05-.208.075-.319.075H2.171c-.398 0-.72-.322-.72-.72 0-.113.026-.224.077-.325l17.028-33.67c.179-.355.612-.497.967-.318.139.07.251.184.32.324z"/><path fill="#F3C000" fill-rule="nonzero" d="M17.621 32.71h-1.14l1.127-6.824-3.49.005-.049.001c-.314 0-.569-.255-.569-.57 0-.134.126-.362.126-.362l6.272-10.46 1.159.005-1.156 6.834 3.509-.004.055-.001c.315 0 .57.254.57.569 0 .127-.05.24-.122.335L17.621 32.71z"/></g></symbol><symbol id="sidebar-toggle" viewBox="0 0 64 64">
  <path d="M36.032 7.9c0.985-0.996 2.624-0.996 3.643 0 0.985 0.963 0.985 2.565 0 3.526l-18.471 18.060h40.246c1.421 0.002 2.55 1.107 2.55 2.496s-1.129 2.529-2.55 2.529h-40.246l18.471 18.026c0.985 0.996 0.985 2.601 0 3.562-1.019 0.996-2.66 0.996-3.643 0l-22.844-22.336c-1.019-0.963-1.019-2.565 0-3.526l22.844-22.338z"></path>
  <path d="M2.071 3.012c1.144 0 2.071 0.927 2.071 2.071v53.835c0 1.144-0.927 2.071-2.071 2.071s-2.071-0.927-2.071-2.071v-53.835c0-1.144 0.927-2.071 2.071-2.071z"></path>
</symbol><symbol id="contentmenu" viewBox="0 0 64 64">
  <path d="M1.351 46.865h36.036c0.746 0 1.351 0.605 1.351 1.351s-0.605 1.351-1.351 1.351h-36.036c-0.746 0-1.351-0.605-1.351-1.351s0.605-1.351 1.351-1.351zM1.351 14.432h40.541c0.746 0 1.351 0.605 1.351 1.351s-0.605 1.351-1.351 1.351h-40.541c-0.746 0-1.351-0.605-1.351-1.351s0.605-1.351 1.351-1.351zM1.351 38.757h31.532c0.746 0 1.351 0.605 1.351 1.351s-0.605 1.351-1.351 1.351h-31.532c-0.746 0-1.351-0.605-1.351-1.351s0.605-1.351 1.351-1.351zM1.351 30.649h37.838c0.746 0 1.351 0.605 1.351 1.351s-0.605 1.351-1.351 1.351h-37.838c-0.746 0-1.351-0.605-1.351-1.351s0.605-1.351 1.351-1.351zM1.351 22.541h34.234c0.746 0 1.351 0.605 1.351 1.351s-0.605 1.351-1.351 1.351h-34.234c-0.746 0-1.351-0.605-1.351-1.351s0.605-1.351 1.351-1.351zM52.249 29.371c-0.992 0-1.231-0.566-0.525-1.272l5.296-5.296c0.353-0.353 0.931-0.348 1.279 0l5.296 5.296c0.702 0.702 0.466 1.272-0.525 1.272h-10.822zM63.069 35.153c0.992 0 1.231 0.566 0.525 1.272l-5.296 5.296c-0.353 0.353-0.931 0.348-1.279 0l-5.296-5.296c-0.702-0.702-0.466-1.272 0.525-1.272h10.822z"></path>
</symbol><symbol id="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path d="M39.503 32l22.963-22.963c2.046-2.046 2.046-5.457 0-7.503s-5.456-2.046-7.503 0l-22.963 22.963-22.963-22.963c-2.046-2.046-5.457-2.046-7.503 0s-2.046 5.457 0 7.503l22.963 22.963-22.963 22.963c-2.046 2.046-2.046 5.456 0 7.503s5.457 2.046 7.503 0l22.963-22.963 22.963 22.963c2.046 2.046 5.456 2.046 7.503 0s2.046-5.456 0-7.503l-22.963-22.963z"></path>
</symbol><symbol id="internal" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M43.16 10.18c-0.881-0.881-2.322-0.881-3.203 0s-0.881 2.322 0 3.203l16.335 16.335h-54.051c-1.281 0-2.242 1.041-2.242 2.242 0 1.281 0.961 2.322 2.242 2.322h54.051l-16.415 16.335c-0.881 0.881-0.881 2.322 0 3.203s2.322 0.881 3.203 0l20.259-20.259c0.881-0.881 0.881-2.322 0-3.203l-20.179-20.179z"></path></symbol><symbol id="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M2.133 13.867h59.733c1.178 0 2.133 0.955 2.133 2.133v2.133c0 1.178-0.955 2.133-2.133 2.133h-59.733c-1.178 0-2.133-0.955-2.133-2.133v-2.133c0-1.178 0.955-2.133 2.133-2.133z"></path>
  <path d="M2.133 28.8h59.733c1.178 0 2.133 0.955 2.133 2.133v2.133c0 1.178-0.955 2.133-2.133 2.133h-59.733c-1.178 0-2.133-0.955-2.133-2.133v-2.133c0-1.178 0.955-2.133 2.133-2.133z"></path>
  <path d="M2.133 43.733h59.733c1.178 0 2.133 0.955 2.133 2.133v2.133c0 1.178-0.955 2.133-2.133 2.133h-59.733c-1.178 0-2.133-0.955-2.133-2.133v-2.133c0-1.178 0.955-2.133 2.133-2.133z"></path>
</symbol><symbol id="magnifier" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M61.925 58.24l-15.2-15.84c3.92-4.64 6.080-10.48 6.080-16.64-0.080-14.16-11.6-25.76-25.84-25.76s-25.84 11.6-25.84 25.84 11.6 25.84 25.84 25.84c5.36 0 10.4-1.6 14.8-4.64l15.36 15.92c0.64 0.64 1.52 1.040 2.4 1.040s1.68-0.32 2.32-0.96c1.36-1.28 1.36-3.44 0.080-4.8zM26.965 6.72c10.56 0 19.12 8.56 19.12 19.12s-8.64 19.040-19.12 19.040-19.12-8.56-19.12-19.040 8.56-19.12 19.12-19.12z"></path></symbol><symbol id="wrench" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M64 18.267c0 1.608-0.214 3.21-0.636 4.767l0.008 0.169c0.028 0.598-0.186 1.18-0.592 1.619-2.713 7.035-9.527 11.712-17.107 11.712-1.852 0-3.671-0.275-5.427-0.819l-25.943 25.854c-1.573 1.567-3.667 2.431-5.889 2.431s-4.318-0.864-5.89-2.431l-0.087-0.087c-3.25-3.238-3.25-8.508 0-11.747l23.75-23.669c0.66-0.657 1.046-1.529 1.090-2.456l0.173-3.404c-0.070-0.657-0.105-1.308-0.105-1.939 0-10.074 8.221-18.267 18.327-18.267 3.298 0 6.532 0.883 9.353 2.555 0.602 0.357 1.005 0.979 1.083 1.675 0.011 0.098 0.017 0.161 0.020 0.237 0.044 1.158-0.297 1.536-9.858 10.586l3.847 3.921c1.149-1.058 3.185-2.929 8.997-8.27 0.542-0.497 1.293-0.697 2.010-0.534 0.719 0.163 1.311 0.668 1.583 1.351 0.856 2.147 1.291 4.418 1.292 6.745zM59.819 22.4c0.395-1.346 0.595-2.737 0.594-4.132 0-1.194-0.141-2.367-0.422-3.507-2.922 2.685-8.959 8.231-9.040 8.307-0.536 0.494-1.37 0.474-1.88-0.046l-6.953-7.087c-0.252-0.258-0.39-0.605-0.384-0.965s0.158-0.702 0.42-0.95c2.985-2.825 7.47-7.107 9.54-9.166-1.884-0.84-3.936-1.278-6.022-1.278-8.129 0-14.742 6.59-14.742 14.691 0 0.533 0.032 1.090 0.096 1.654 0.007 0.071 0.010 0.142 0.007 0.214l-0.174 3.646c-0.087 1.818-0.847 3.528-2.138 4.816l-23.75 23.668c-1.85 1.844-1.85 4.844 0 6.688l0.087 0.087c0.897 0.893 2.088 1.385 3.356 1.385s2.46-0.492 3.355-1.385l26.429-26.338c0.2-0.199 0.419-0.39 0.693-0.601 0.377-0.292 0.882-0.363 1.326-0.187 1.743 0.692 3.578 1.044 5.456 1.044 6.243 0 11.831-3.943 13.905-9.811 0.044-0.126 0.107-0.244 0.187-0.351-0.002-0.134 0.016-0.268 0.054-0.396z"></path>
</symbol><symbol id="template" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M1.44 0h62.56v64h-64v-64h1.44zM20.64 60.88v-39.52h-17.76v39.6h17.76zM23.44 21.36v39.6h37.44v-39.6h-37.44zM2.88 18.24h58.080v-15.36h-58.080v15.36z"></path></symbol><symbol id="learn" viewBox="0 0 64 64">
  <path d="M57.674 35.257c0 1.779 1.416 3.221 3.163 3.221s3.163-1.442 3.163-3.221c0-1.155-0.602-2.16-1.498-2.728v-8.973c0-0.682-0.401-1.297-1.018-1.563l-29.585-12.716c-0.413-0.178-0.881-0.178-1.295 0l-29.586 12.716c-0.617 0.265-1.018 0.881-1.018 1.563s0.401 1.297 1.018 1.562l6.662 2.863v17.587c0 4.624 7.288 9.29 23.571 9.29s23.571-4.666 23.571-9.29v-17.587l4.349-1.869v6.417c-0.896 0.569-1.497 1.573-1.497 2.728zM51.491 45.567c0 1.575-4.797 5.898-20.24 5.898s-20.24-4.323-20.24-5.898v-16.155l19.593 8.421c0.207 0.089 0.427 0.134 0.647 0.134s0.441-0.045 0.647-0.134l19.593-8.421v16.155zM31.251 34.43l-25.303-10.875 25.303-10.875 25.302 10.875-25.302 10.875z"></path>
</symbol><symbol id="examples-flyout" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 20"><g><path d="M20 19.3a.9.9 0 1 1 0-1.7 1.9 1.9 0 0 0 1.9-1.9v-3a3.6 3.6 0 0 1 1.3-2.7 3.6 3.6 0 0 1-1.3-2.8v-3A1.9 1.9 0 0 0 20 2.3a.9.9 0 1 1 0-1.7 3.6 3.6 0 0 1 3.6 3.6v3a1.9 1.9 0 0 0 2 2v1.6a1.9 1.9 0 0 0-2 2v3a3.6 3.6 0 0 1-3.6 3.5zm-14 0a3.6 3.6 0 0 1-3.6-3.6v-3a1.9 1.9 0 0 0-2-1.9V9.1a1.9 1.9 0 0 0 2-1.9v-3A3.6 3.6 0 0 1 6 .6a.9.9 0 1 1 0 1.8A1.9 1.9 0 0 0 4 4.2v3A3.6 3.6 0 0 1 2.8 10a3.6 3.6 0 0 1 1.3 2.7v3A1.9 1.9 0 0 0 6 17.6a.9.9 0 1 1 0 1.7z"/><g transform="translate(5.8 8.5)"><circle cx="12.3" cy="1.4" r="1.4"/><circle cx="7.3" cy="1.4" r="1.4"/><circle cx="2.2" cy="1.4" r="1.4"/></g></g></symbol><symbol id="components-flyout" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 22"><path d="M8.7 17l-2.5-2.2-4-3.5-.9-.8v1l2.5-2.2 4-3.5 1-.8c.2-.3.2-.8 0-1a.8.8 0 0 0-1.2 0L5.1 6l-4 3.6-.8.8c-.3.2-.3.8 0 1l2.5 2.2 4 3.6.8.8c.3.2.8.3 1.1 0 .3-.3.3-.8 0-1.1zM19.3 5l2.5 2.2 4 3.5.9.8v-1l-2.5 2.2-4 3.5-.9.8c-.3.3-.3.8 0 1 .3.4.8.3 1 0L23 16l4-3.6.9-.8c.3-.2.3-.8 0-1l-2.5-2.3-4-3.5-1-.8c-.2-.3-.7-.3-1 0-.3.3-.3.8 0 1zm-8 16.4l.7-2 1.6-5a3563.7 3563.7 0 0 1 2-5.8l1.7-5.1.8-2.5c.2-.4-.1-.9-.5-1a.8.8 0 0 0-1 .6c-.1.7-.4 1.3-.6 2l-1.6 4.9-2 5.9-1.7 5-.8 2.6c-.2.4.1.8.5 1a.8.8 0 0 0 1-.6z"/></symbol><symbol id="guides-documents" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 32"><path d="M6.7 28H1.2c-.4 0-.6-.4-.6-.8L.5.7c0-.4.3-.7.7-.7h21.1c.5 0 .7.3.7.7V2c0 .5-.2.7-.7.7-.4 0-.6-.2-.6-.7v-.6H1.8L2 26.6h4.8c.4 0 .7.2.7.6 0 .4-.3.7-.7.7z"/><path d="M8 6.8H6c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h2c.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM8 10.9H6c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h2c.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM8 15H6c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h2c.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM8 19H6c-.4 0-.7-.2-.7-.6 0-.4.3-.7.7-.7h2c.5 0 .7.3.7.7 0 .4-.2.7-.7.7z"/><path d="M29.8 4H8.7c-.5 0-.7.4-.7.8v26.5c0 .4.3.7.7.7h21.1c.4 0 .7-.3.7-.7V4.8c0-.4-.3-.7-.7-.7zm-.6 26.6H9.4V5.4h19.8v25.2z"/><path d="M18.1 22.8h-.6l.6-3.8h-1.9c-.2 0-.3-.1-.3-.3v-.2l3.4-5.8h.7l-.7 3.8h2c.2 0 .3.1.3.3v.2L18 22.8z"/></symbol><symbol id="start" viewBox="0 0 64 64">
  <path d="M63.195 1.874c-0.143-0.52-0.549-0.926-1.069-1.069-10.765-2.978-20.385 2.978-24.355 6.948l-11.452 11.452-5.421-1.756c-3.551-1.163-7.454-0.217-10.078 2.443l-3.359 3.359c-0.582 0.594-0.582 1.544 0 2.138l7.329 7.329-4.199 6.948c-0.343 0.593-0.25 1.342 0.229 1.832l11.681 11.605c0.471 0.504 1.223 0.63 1.832 0.305l6.948-4.123h0.076l7.329 7.329c0.594 0.582 1.544 0.582 2.138 0l3.359-3.359c2.66-2.624 3.606-6.527 2.443-10.078l-1.756-5.421 11.452-11.452c3.894-4.047 9.849-13.666 6.871-24.431zM23.799 50.126l-9.925-9.925 3.13-5.268 12.063 12.063-5.268 3.13zM54.109 24.015l-12.139 12.139c-0.4 0.399-0.547 0.987-0.382 1.527l2.061 6.337c0.783 2.448 0.136 5.128-1.68 6.948l-2.29 2.29-29.012-29.012 2.29-2.29c1.819-1.815 4.5-2.463 6.948-1.68l6.337 2.061c0.54 0.165 1.128 0.018 1.527-0.382l12.216-12.063c3.436-3.359 11.452-8.398 20.461-6.337 2.061 9.085-2.978 17.102-6.337 20.461z"></path>
  <path d="M10.667 51.195l-9.009 9.009c-0.478 0.358-0.703 0.963-0.576 1.547s0.583 1.040 1.167 1.167c0.584 0.127 1.188-0.098 1.547-0.576l9.009-9.009c0.456-0.608 0.396-1.459-0.142-1.996s-1.388-0.598-1.996-0.142z"></path>
  <path d="M11.66 63.563c0.594 0.582 1.544 0.582 2.138 0l4.581-4.581c0.456-0.608 0.395-1.459-0.142-1.996s-1.388-0.598-1.996-0.142l-4.581 4.581c-0.582 0.594-0.582 1.544 0 2.138z"></path>
  <path d="M1.505 52.798c0.403-0.006 0.787-0.17 1.069-0.458l4.581-4.581c0.478-0.358 0.703-0.963 0.576-1.547s-0.583-1.040-1.167-1.167c-0.584-0.127-1.188 0.098-1.547 0.576l-4.581 4.581c-0.428 0.436-0.554 1.086-0.322 1.65s0.78 0.937 1.391 0.945z"></path>
  <path d="M43.726 13.021c-2.003 2.003-2.003 5.25 0 7.253s5.25 2.003 7.253 0c2.003-2.003 2.003-5.25 0-7.253s-5.25-2.003-7.253 0zM48.841 18.136c-0.699 0.692-1.79 0.794-2.605 0.243s-1.127-1.601-0.745-2.508c0.382-0.907 1.351-1.417 2.315-1.219s1.653 1.050 1.646 2.033c-0.004 0.545-0.223 1.067-0.611 1.451z"></path>
</symbol><symbol id="amp-email" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <defs>
    <linearGradient id="gradient-email" x1="76.2776137%" x2="20.8316146%" y1="-25.8400575%" y2="121.578822%">
      <stop offset="0%" stop-color="#F1F068"/>
      <stop offset="46.2139774%" stop-color="#96D64F"/>
      <stop offset="100%" stop-color="#2DB932"/>
    </linearGradient>
  </defs>
  <path d="M64 14.080c0-3.291-2.56-5.851-5.851-5.851h-52.297c-3.291 0-5.851 2.56-5.851 5.851v35.84c0 3.291 2.56 5.851 5.851 5.851h52.297c3.291 0 5.851-2.56 5.851-5.851v-35.84zM5.851 11.154h52.297c0.183 0 0.366 0 0.549 0l-24.503 25.417c-0.549 0.549-1.28 0.914-2.194 0.914-0.731 0-1.646-0.366-2.194-0.914l-24.32-25.417c0 0 0.183 0 0.366 0zM2.926 14.080c0-0.366 0-0.731 0.183-1.097l15.36 16.091-15.543 19.2v-34.194zM58.149 52.846h-52.297c-0.731 0-1.646-0.366-2.194-0.914l16.823-20.663 7.131 7.497c1.097 1.097 2.56 1.829 4.206 1.829s3.109-0.731 4.206-1.829l6.583-6.949 17.371 20.114c-0.366 0.549-1.097 0.914-1.829 0.914v0zM61.074 48.274l-16.091-18.834 15.909-16.64c0.183 0.366 0.183 0.731 0.183 1.097v34.377z"></path>
</symbol><symbol id="amp-ads" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <defs>
    <linearGradient id="gradient-ads" x1="100%" x2="14.5415777%" y1="0%" y2="123.368881%">
      <stop offset="0%" stop-color="#FF52E1"/>
      <stop offset="100%" stop-color="#5500D7"/>
    </linearGradient>
  </defs>
  <path d="M56.399 14.68c3.654-3.846 9.616-10.963 6.924-13.847-2.885-2.885-10.001 3.269-13.847 6.731l-0.577-0.577c-0.385-0.385-0.962-0.577-1.539-0.385l-15.963 3.077c-0.385 0-0.577 0.192-0.769 0.385l-30.195 30.195c-0.577 0.577-0.577 1.731 0 2.308l20.963 20.963c0.385 0.385 0.769 0.385 1.154 0.385s0.769-0.192 1.154-0.385l30.003-30.003c0.192-0.192 0.385-0.577 0.385-0.769v0l3.077-15.963c0.192-0.577 0-1.154-0.385-1.539l-0.385-0.577zM53.899 16.988l-2.885 14.424-28.464 28.656-18.655-18.655 28.656-28.656 14.424-2.885c-1.539 1.731-4.039 4.423-5.962 7.116-1.923-0.192-3.654 0.385-5.193 1.923-2.5 2.5-2.5 6.731 0 9.232s6.731 2.5 9.232 0c1.346-1.346 2.116-3.27 1.923-5.193-0.192-1.154-0.577-2.308-1.154-3.077-0.192-0.385-0.385-0.577-0.769-0.769-0.192-0.192-0.577-0.577-0.769-0.769 1.154-1.731 2.885-3.654 5.193-5.962l2.5 2.5 1.923 2.116zM43.321 24.873c-0.192 0.385-0.385 0.577-0.577 0.962-1.346 1.346-3.27 1.346-4.616 0s-1.346-3.27 0-4.616c0.192-0.192 0.577-0.385 0.962-0.577 1.154-0.577 2.308-0.385 3.462 0.385 0.192 0 0.192 0.192 0.385 0.192 0 0 0.192 0.192 0.192 0.385 0.577 0.962 0.769 2.116 0.192 3.27zM54.091 12.372l-2.5-2.5c4.039-3.846 7.308-5.77 8.847-6.347-0.577 1.539-2.5 4.616-6.347 8.847z"></path>
</symbol><symbol id="amp-stories" viewBox="0 0 36 32">
  <defs>
    <linearGradient id="gradient-stories" x1="81.726943%" x2="23.7165981%" y1="-28.3832685%" y2="119.978062%">
      <stop offset="0%" stop-color="#FFF300"/>
      <stop offset="100%" stop-color="#FF8F00"/>
    </linearGradient>
  </defs>
  <path d="M7.111 0h21.333v32h-21.333v-32zM9.481 2.37v27.259h16.593v-27.259h-16.593zM0 4.741h2.37v22.519h-2.37v-22.519zM33.185 4.741h2.37v22.519h-2.37v-22.519z"></path>
</symbol><symbol id="amp-websites" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <defs>
    <linearGradient id="gradient-websites" x1="81.8129399%" x2="33.8766928%" y1="0%" y2="94.4849088%">
      <stop offset="0%" stop-color="#00DCC0"/>
      <stop offset="100%" stop-color="#005AF0"/>
    </linearGradient>
  </defs>
  <path d="M63.196 4.646h-62.253c-0.566 0-0.943 0.377-0.943 0.755v53.010c0 0.566 0.377 0.943 0.943 0.943h62.253c0.566 0 0.755-0.377 0.755-0.755v-53.198c0.189-0.377-0.189-0.755-0.755-0.755zM3.395 18.040h57.348v33.202h-57.348v-33.202zM60.744 7.853v6.98h-57.348v-6.98h57.348zM3.395 56.147v-1.509h57.348v1.509h-57.348zM9.055 7.853c1.132 0 1.886 0.754 1.886 1.886s-0.755 1.886-1.886 1.886-1.886-0.755-1.886-1.886 0.943-1.886 1.886-1.886zM12.828 7.853c1.132 0 1.886 0.754 1.886 1.886s-0.755 1.886-1.886 1.886-1.886-0.755-1.886-1.886 0.943-1.886 1.886-1.886zM18.487 7.853c1.132 0 1.886 0.754 1.886 1.886s-0.755 1.886-1.886 1.886-1.886-0.755-1.886-1.886 0.943-1.886 1.886-1.886zM51.123 39.734l-11.13-13.96c-0.189-0.189-0.377-0.377-0.755-0.377v0c-0.189 0-0.566 0-0.755 0.377l-8.3 9.621-4.716-6.225c-0.189-0.189-0.377-0.377-0.755-0.377s-0.566 0-0.755 0.377l-8.866 10.376c-0.377 0.377-0.189 0.943 0 1.132s0.377 0.189 0.566 0.189c0.189 0 0.566 0 0.754-0.377l8.3-9.621 4.528 5.471-2.452 3.018c-0.377 0.377-0.189 0.943 0 1.132 0.377 0.189 0.943 0.189 1.132 0l11.319-13.017 10.376 13.205c0.189 0.189 0.377 0.377 0.755 0.377 0.189 0 0.377 0 0.566-0.189 0.377-0.377 0.566-0.943 0.189-1.132zM27.165 26.718c1.509 0 2.641-1.132 2.641-2.641 0-1.321-1.132-2.641-2.641-2.641s-2.641 1.132-2.641 2.641c0 1.509 1.132 2.641 2.641 2.641zM27.165 23.322c0.566 0 0.943 0.377 0.943 0.943s-0.377 0.943-0.943 0.943-0.943-0.377-0.943-0.943c0-0.566 0.377-0.943 0.943-0.943z"></path>
</symbol><symbol id="angle-down-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <path d="M56.293 16.003c1.761-1.645 4.553-1.645 6.314 0 1.857 1.734 1.857 4.623 0 6.357l-27.45 25.638c-1.761 1.645-4.553 1.645-6.314 0l-27.45-25.638c-0.899-0.839-1.393-1.963-1.393-3.178s0.494-2.339 1.393-3.178c1.761-1.645 4.553-1.645 6.314 0l24.293 22.689 24.293-22.689z"></path>
</symbol><symbol id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><path fill="#FFF" d="M0 15c0 8.284 6.716 15 15 15 8.285 0 15-6.716 15-15 0-8.284-6.715-15-15-15C6.716 0 0 6.716 0 15z"/><path fill="#005AF0" fill-rule="nonzero" d="M13.85 24.098h-1.14l1.128-6.823-3.49.005h-.05a.57.57 0 0 1-.568-.569c0-.135.125-.363.125-.363l6.272-10.46 1.16.005-1.156 6.834 3.508-.004h.056c.314 0 .569.254.569.568 0 .128-.05.24-.121.335L13.85 24.098zM15 0C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15 8.285 0 15-6.716 15-15 0-8.284-6.715-15-15-15z"/></g></symbol>
      </defs>
    </svg>




<header class="ap--header " [class]="'ap--header  ' + (mainmenuopen ? 'mainmenuopen' : '')">

  <div class="ap-o-header">


    <a class="ap-o-header-home" href="/">
  <svg class="ap-o-header-home-logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#logo"></use></svg>
  <span class="ap-o-header-home-title">AMP</span>
</a>

<nav class="ap-o-header-main">

  <div class="ap-o-header-main-item">
    <button class="ap-o-header-main-link ap-m-nav-link [% if requestPath.startsWith('/about/') %]active[% endif %]">
      About
      <div class="ap-a-ico ap-o-header-main-link-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </div>
    </button>

    <ul class="ap-o-header-flyout">

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link websites" href="/about/websites/">
          <div class="ap-o-header-flyout-primary-item-link-icon websites">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-websites"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info ap-o-header-flyout-primary-item-link-info-websites">
            <div class="ap-o-header-flyout-item-title">AMP Websites</div>
            <div class="ap-o-header-flyout-item-description">Create flawless web experiences</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link stories" href="/about/stories/">
          <div class="ap-o-header-flyout-primary-item-link-icon stories">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-stories"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info ap-o-header-flyout-primary-item-link-info-stories">
            <div class="ap-o-header-flyout-item-title">Web Stories</div>
            <div class="ap-o-header-flyout-item-description">Snackable Stories for everyone</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link ads" href="/about/ads/">
          <div class="ap-o-header-flyout-primary-item-link-icon ads">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-ads"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info ap-o-header-flyout-primary-item-link-info-ads">
            <div class="ap-o-header-flyout-item-title">AMP Ads</div>
            <div class="ap-o-header-flyout-item-description">Super fast ads on the web</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link email" href="/about/email/">
          <div class="ap-o-header-flyout-primary-item-link-icon email">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-email"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info ap-o-header-flyout-primary-item-link-info-email">
            <div class="ap-o-header-flyout-item-title">AMP Email</div>
            <div class="ap-o-header-flyout-item-description">Next gen email</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/about/page-experience/">Page Experience</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/about/how-amp-works/">How AMP works</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/about/mission-and-vision/">Vision & Mission</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/about/use-cases/">Use cases</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/success-stories/">Success Stories</a>
      </li>
    </ul>
  </div>
  <div class="ap-o-header-main-item">
    <button class="ap-o-header-main-link ap-m-nav-link [% if requestPath.startsWith('/documentation/') %]active[% endif %]">
      Documentation
      <div class="ap-a-ico ap-o-header-main-link-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </div>
    </button>

    <ul class="ap-o-header-flyout">

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#start"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Get started</div>
            <div class="ap-o-header-flyout-item-description">Get started</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/guides-and-tutorials/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#guides-documents"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Guides & Tutorials</div>
            <div class="ap-o-header-flyout-item-description">Get started with AMP</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/components/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#components-flyout"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Components</div>
            <div class="ap-o-header-flyout-item-description">The complete AMP library</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/examples/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#examples-flyout"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Examples</div>
            <div class="ap-o-header-flyout-item-description">Hands-on introduction to AMP</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/courses/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#learn"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Courses</div>
            <div class="ap-o-header-flyout-item-description">Learn AMP with free courses</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/templates/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#template"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Templates</div>
            <div class="ap-o-header-flyout-item-description">Ready to use</div>
          </div>
        </a>
      </li>

      <li class="ap-o-header-flyout-primary-item">
        <a class="ap-o-header-flyout-primary-item-link " href="/documentation/tools/">
          <div class="ap-o-header-flyout-primary-item-link-icon ">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#wrench"></use></svg>
          </div>

          <div class="ap-o-header-flyout-primary-item-link-info">
            <div class="ap-o-header-flyout-item-title">Tools</div>
            <div class="ap-o-header-flyout-item-description">Begin building</div>
          </div>
        </a>
      </li>
    </ul>
  </div>
  <div class="ap-o-header-main-item">
    <button class="ap-o-header-main-link ap-m-nav-link [% if requestPath.startsWith('/community/') %]active[% endif %]">
      Community
      <div class="ap-a-ico ap-o-header-main-link-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </div>
    </button>

    <ul class="ap-o-header-flyout">

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/documentation/guides-and-tutorials/contribute/">Contribute</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/community/roadmap/">Roadmap</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/community/governance/">Governance</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/community/working-groups/access-subscriptions/">Working Groups</a>
      </li>
    </ul>
  </div>
  <div class="ap-o-header-main-item">
    <button class="ap-o-header-main-link ap-m-nav-link [% if requestPath.startsWith('/events/') %]active[% endif %]">
      Events
      <div class="ap-a-ico ap-o-header-main-link-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </div>
    </button>

    <ul class="ap-o-header-flyout">

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/events/amp-fest-2020/">AMP Fest 2020</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/events/amp-roadshow/">AMP Roadshow</a>
      </li>
    </ul>
  </div>
  <div class="ap-o-header-main-item">
    <a class="ap-o-header-main-link ap-m-nav-link" href="https://blog.amp.dev">Blog</a>
  </div>
  <div class="ap-o-header-main-item">
    <button class="ap-o-header-main-link ap-m-nav-link [% if requestPath.startsWith('/support/') %]active[% endif %]">
      Support
      <div class="ap-a-ico ap-o-header-main-link-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </div>
    </button>

    <ul class="ap-o-header-flyout">

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/support/">Help</a>
      </li>

      <li class="ap-o-header-flyout-item-secondary">
        <a class="ap-o-header-flyout-item-title secondary" href="/support/faq/">FAQ</a>
      </li>
    </ul>
  </div>
</nav>


    <div id="searchTriggerOpen" class="ap-m-search-trigger" on="tap:searchLightbox" role="button" aria-label="Search"  tabindex="0">
      <div class="ap-a-ico ap-m-search-trigger-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#magnifier"></use></svg>
      </div>
    </div>

    <div class="ap-m-language-selector">
      <span class="ap-m-language-selector-label" aria-label="Select a language" tabindex="-1">
        <span class="ap-m-nav-link">EN</span>
        <div class="ap-a-ico ap-m-language-selector-icon">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
        </div>
      </span>
      <input class="ap-m-language-selector-toggle" type="checkbox" name="language-selector">
      <div class="ap-m-language-selector-list" role="list">
        <a class="ap-m-nav-link" href="/de/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Deutsch</a>
        <a class="ap-m-nav-link" href="/fr/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Franais</a>
        <a class="ap-m-nav-link" href="/ar/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem"></a>
        <a class="ap-m-nav-link" href="/es/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Espaol</a>
        <a class="ap-m-nav-link" href="/it/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Italiano</a>
        <a class="ap-m-nav-link" href="/id/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Indonesia</a>
        <a class="ap-m-nav-link" href="/ja/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem"></a>
        <a class="ap-m-nav-link" href="/ko/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem"></a>
        <a class="ap-m-nav-link" href="/pt_br/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Portugus</a>
        <a class="ap-m-nav-link" href="/ru/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem"></a>
        <a class="ap-m-nav-link" href="/tr/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Trke</a>
        <a class="ap-m-nav-link" href="/zh_cn/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem"></a>
        <a class="ap-m-nav-link" href="/pl/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Polski</a>
        <a class="ap-m-nav-link" href="/vi/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/" role="listitem">Ting vit</a>
      </div>
    </div>
  </div>
</header>

<label class="ap-o-burger-menu-label" on="tap:AMP.setState({mainmenuopen: !mainmenuopen, noScrollState: !noScrollState})" [class]="'ap-o-burger-menu-label ' + (mainmenuopen ? 'mainmenuopen ' : '')" for="burger-menu" tabindex="0" role="button" aria-label="Burger Menu">
  <div class="ap-a-ico ap-o-burger-menu-icon">
    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu"></use></svg>
  </div>
</label>

<nav class="ap-o-burger-menu" [class]="mainmenuopen ? 'ap-o-burger-menu mainmenuopen' : 'ap-o-burger-menu'">
  <ul class="ap-o-burger-menu-items">

    
<li class="ap-o-burger-menu-item">
  <label class="ap-o-burger-menu-link ap-m-nav-link [% if requestPath.startsWith('/about/') %]active[% endif %]">
    About
  </label>
  <input class="ap-o-burger-menu-item-trigger" type="checkbox" aria-label="About" [% if requestPath.startsWith('/about/') %]checked[% endif %]/>
  <span class="nav-icon">
    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <ul class="ap-o-burger-menu-items">
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/websites/">
        AMP Websites
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/stories/">
        Web Stories
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/ads/">
        AMP Ads
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/email/">
        AMP Email
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/page-experience/">
        Page Experience
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/how-amp-works/">
        How AMP works
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/mission-and-vision/">
        Vision & Mission
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/about/use-cases/">
        Use cases
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/success-stories/">
        Success Stories
      </a>
    </li>
  </ul>
</li>
<li class="ap-o-burger-menu-item">
  <label class="ap-o-burger-menu-link ap-m-nav-link [% if requestPath.startsWith('/documentation/') %]active[% endif %]">
    Documentation
  </label>
  <input class="ap-o-burger-menu-item-trigger" type="checkbox" aria-label="Documentation" [% if requestPath.startsWith('/documentation/') %]checked[% endif %]/>
  <span class="nav-icon">
    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <ul class="ap-o-burger-menu-items">
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/">
        Get started
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/guides-and-tutorials/">
        Guides & Tutorials
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/components/">
        Components
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/examples/">
        Examples
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/courses/">
        Courses
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/templates/">
        Templates
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/tools/">
        Tools
      </a>
    </li>
  </ul>
</li>
<li class="ap-o-burger-menu-item">
  <label class="ap-o-burger-menu-link ap-m-nav-link [% if requestPath.startsWith('/community/') %]active[% endif %]">
    Community
  </label>
  <input class="ap-o-burger-menu-item-trigger" type="checkbox" aria-label="Community" [% if requestPath.startsWith('/community/') %]checked[% endif %]/>
  <span class="nav-icon">
    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <ul class="ap-o-burger-menu-items">
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/documentation/guides-and-tutorials/contribute/">
        Contribute
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/community/roadmap/">
        Roadmap
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/community/governance/">
        Governance
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/community/working-groups/access-subscriptions/">
        Working Groups
      </a>
    </li>
  </ul>
</li>
<li class="ap-o-burger-menu-item">
  <label class="ap-o-burger-menu-link ap-m-nav-link [% if requestPath.startsWith('/events/') %]active[% endif %]">
    Events
  </label>
  <input class="ap-o-burger-menu-item-trigger" type="checkbox" aria-label="Events" [% if requestPath.startsWith('/events/') %]checked[% endif %]/>
  <span class="nav-icon">
    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <ul class="ap-o-burger-menu-items">
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/events/amp-fest-2020/">
        AMP Fest 2020
      </a>
    </li>
    <li class="ap-o-burger-menu-item">
      <a class="ap-o-burger-menu-link ap-m-nav-link-2" href="/events/amp-roadshow/">
        AMP Roadshow
      </a>
    </li>
  </ul>
</li>
<li class="ap-o-burger-menu-item">
  <a class="ap-o-burger-menu-link ap-m-nav-link" href="https://blog.amp.dev">Blog</a>
</li>
<li class="ap-o-burger-menu-item">
  <a class="ap-o-burger-menu-link ap-m-nav-link [% if requestPath == '/support/' %]active[% endif %]" href="/support/">
    Help
  </a>
</li>

  </ul>
</nav>




<amp-state id="query" src="http://localhost:8080/search/latest-query"></amp-state>
<amp-state id="clear" [src]="clear ? 'http://localhost:8080/search/clear-latest-query' : ''"></amp-state>

<amp-lightbox id="searchLightbox"
              class="ap-o-search"
              layout="nodisplay"
              on="lightboxOpen:searchInput.focus,AMP.setState({clear: false});
                  lightboxClose:searchTriggerOpen.focus"
              scrollable>
  <div class="ap-o-search-escaper" role="button" tabindex="0" on="tap:searchLightbox.close"></div>
  <div class="ap-o-search-container">

    <div class="ap-m-search-trigger ap-m-search-trigger-close"
         on="tap:searchLightbox.close,AMP.setState({clear: true, query: null})"
         role="button"
         tabindex="0">
      <div class="ap-a-ico ap-m-search-trigger-icon">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#close"></use></svg>
      </div>
    </div>

    <div class="ap-o-search-field">
      <form action-xhr="http://localhost:8080/documentation/examples/api/echo"
            class="ap-o-search-form"
            id="searchForm"
            method="POST"
            on="submit:AMP.setState({ query: throttledValue }),searchResult.focus,searchList.changeToLayoutContainer"
            target="_top">
        <amp-autocomplete class="ap-o-search-autocomplete"
                          filter="substring"
                          min-characters="1"
                          on="select:AMP.setState({ query: event.value })"
                          submit-on-enter="false"
                          src="http://localhost:8080/search/autosuggest"
        >
          <div class="ap-a-ico ap-o-search-input-icon">
            <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#magnifier"></use></svg>
          </div>
          <input id="searchInput"
                 class="ap-o-search-input"
                 name="q"
                 placeholder="What are you looking for?"
                 on="input-throttled:AMP.setState({ throttledValue: event.value })"
                 [value]="query == null ? '' : query"
                 required
          >
          <button class="ap-o-search-submit" type="submit" name="search-submit" disabled [disabled]="!throttledValue">Search</button>
        </amp-autocomplete>
      </form>

      <div class="ap-o-search-result" id="searchResult" tabindex="-1">
        <amp-state id="search"
                  src="http://localhost:8080/search/highlights?locale=en"
                  [src]="query == null || clear ? 'http://localhost:8080/search/highlights?locale=en' : 'http://localhost:8080/search/do?q=' + encodeURIComponent(query) + '&locale=en'"></amp-state>
        <amp-list id="searchList"
                  src="http://localhost:8080/search/highlights?locale=en"
                  [src]="query == null || clear ? 'http://localhost:8080/search/highlights?locale=en' : 'http://localhost:8080/search/do?q=' + encodeURIComponent(query) + '&locale=en'"
                  binding="no"
                  items="."
                  height="80vh"
                  layout="fixed-height"
                  load-more="auto"
                  load-more-bookmark="nextUrl"
                  reset-on-refresh
                  single-item
        >

          <template type="amp-mustache" id="searchResultTemplate">
            <div class="ap-o-search-result-list">
              {{^prevUrl}}
              {{#result.components.length}}
              <h4 class="ap-o-search-result-category">{{#initial}}Important Components{{/initial}}{{^initial}}Components{{/initial}}</h4>
              {{/result.components.length}}
              {{/prevUrl}}
              {{#result.components}}
              <div class="ap-o-search-result-item ap-o-search-result-item-highlight">
                <a class="ap-o-search-result-link" href="{{url}}">
                  <h4 class="ap-o-search-result-title">{{#initial}}&lt;{{title}}&gt;{{/initial}}{{^initial}}{{title}}{{/initial}}</h4>
                  <p class="ap-o-search-result-description">{{description}}</p>
                </a>
                {{#exampleUrl}}
                <div class="ap-o-search-result-linklist">
                  <a class="ap-o-search-result-linklist-item ap-o-search-result-linklist-item-example ap-m-lnk" href="{{exampleUrl}}">
                    <div class="ap-a-ico ap-m-lnk-icon">
                      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg>
                    </div>
                    <span class="ap-m-lnk-text">Open example</span>
                  </a>
                  {{#playgroundUrl}}
                  <a class="ap-o-search-result-linklist-item ap-o-search-result-linklist-item-playground ap-m-lnk" href="{{playgroundUrl}}" target="_blank">
                    <div class="ap-a-ico ap-m-lnk-icon">
                      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg>
                    </div>
                    <span class="ap-m-lnk-text">Open in playground</span>
                  </a>
                  {{/playgroundUrl}}
                </div>
                {{/exampleUrl}}
              </div>
              {{/result.components}}

              {{^prevUrl}}
              {{#result.pages.length}}
              <h4 class="ap-o-search-result-category">{{#initial}}Popular Articles{{/initial}}{{^initial}}Results{{/initial}}</h4>
              {{/result.pages.length}}
              {{/prevUrl}}
              {{#result.pages}}
              <div class="ap-o-search-result-item">
                <a class="ap-o-search-result-link" href="{{url}}">
                  <h4 class="ap-o-search-result-title">{{title}}</h4>
                  <p class="ap-o-search-result-description">{{description}}</p>
                </a>
              </div>
              {{/result.pages}}

              {{#result.isTruncated}}
              <div class="ap-o-search-result-hint">
                Although there are {{result.totalResults}} hits in total we cannot show more than 100.
              </div>
              {{/result.isTruncated}}
            </div>
          </template>

          <amp-list-load-more load-more-button>
            <div class="ap-o-search-result-load-button" overflow>
              <button class="ap-a-btn">Load more</button>
            </div>
          </amp-list-load-more>

          <amp-list-load-more class="ap-o-search-result-hint" load-more-failed>
            Something went wrong while trying to load more search results.<br>
            We apologize for the inconvenience caused.<br>
            Please try again later.
          </amp-list-load-more>

          <div class="ap-o-search-result-error" fallback>
            <h2 class="ap-o-search-result-error-smiley">;(</h2>
            <h3 class="ap-o-search-result-error-headline">Something went wrong</h3>
            <p class="ap-o-search-result-error-copy">
              while trying to load the search results.<br>
              We apologize for the inconvenience caused.<br>
              Please try again later.
            </p>
          </div>
        </amp-list>

        <div class="ap-o-search-result-error" [hidden]="search.initial == true || search.result.totalResults != 0" hidden>
          <h2 class="ap-o-search-result-error-shruggie">\_()_/</h2>
          <h3 class="ap-o-search-result-error-headline">No results found.</h3>
          <p class="ap-o-search-result-error-copy">We could not find any results matching your search query.</p>
        </div>

      </div>
    </div>
  </div>
</amp-lightbox>
<div class="ap--sidebar-toggle-observer">

  <amp-position-observer on="enter:slideTransition.start; exit:slideTransition.start,slideTransition.reverse" intersection-ratios="1" layout="nodisplay">
  </amp-position-observer>

  <amp-animation id="slideTransition" layout="nodisplay">
    <script type="application/json">
      {
        "duration": "150ms",
        "fill": "both",
        "easing": "ease-out",
        "iterations": "1",
        "animations": [{
          "selector": ".label-title",
          "keyframes": [{
              "transform": "scale3d(0, 1, 1)"
            },
            {
              "transform": "scale3d(1, 1, 1)"
            }
          ]
        }]
      }
    </script>
  </amp-animation>

</div>
<amp-user-notification class="ap-m-format-filter-hint" id="format-filter-hint" layout="nodisplay">
</amp-user-notification>


<div class="ap-m-format-filter-hint-banner" aria-hidden="true">
  <div class="ap-m-format-filter-hint-banner-content">
    <div class="ap-m-format-filter-hint-banner-note">Select your format for a more streamlined experience</div>
    <div class="ap-m-format-filter-hint-banner-formats">
      <button on="tap:format-filter-hint.dismiss,AMP.navigateTo(url='/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=websites')" class="ap-m-format-filter-hint-banner-format ap-m-format-toggle-link ap-m-format-toggle-link-websites ap-m-format-toggle-selected">
        <span class="ap-a-ico">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-websites"></use></svg>
        </span>
        <span>websites</span>
      </button>
      <button on="tap:format-filter-hint.dismiss,AMP.navigateTo(url='/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=stories')" class="ap-m-format-filter-hint-banner-format ap-m-format-toggle-link ap-m-format-toggle-link-stories ap-m-format-toggle-selected">
        <span class="ap-a-ico">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-stories"></use></svg>
        </span>
        <span>stories</span>
      </button>
      <button on="tap:format-filter-hint.dismiss,AMP.navigateTo(url='/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=ads')" class="ap-m-format-filter-hint-banner-format ap-m-format-toggle-link ap-m-format-toggle-link-ads ap-m-format-toggle-selected">
        <span class="ap-a-ico">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-ads"></use></svg>
        </span>
        <span>ads</span>
      </button>
      <button on="tap:format-filter-hint.dismiss,AMP.navigateTo(url='/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=email')" class="ap-m-format-filter-hint-banner-format ap-m-format-toggle-link ap-m-format-toggle-link-email ap-m-format-toggle-selected">
        <span class="ap-a-ico">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-email"></use></svg>
        </span>
        <span>email</span>
      </button>
    </div>

    <button class="ap-m-format-filter-hint-banner-dismiss" on="tap:format-filter-hint.dismiss">
      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#close"></use></svg>
    </button>
  </div>
</div>

<main class="ap--main ap-t-docs-detail">
  <div class="ap--container">
<input class="ap-a-sidebar-mobile-toggle-input ap-a-sidebar-mobile-toggle-input-sidebar" type="checkbox" name="sidebar" id="sidebar" autocomplete="off">

<input class="ap-a-sidebar-desktop-toggle-input ap-a-sidebar-desktop-toggle-input-sidebar" type="checkbox" name="sidebar-desktop" id="sidebar-desktop" autocomplete="off">    <span id="ap--sidebar-content" class="ap--sidebar"></span>

<section class="ap--toc">

  <div class="ap-o-toc" [class]="contentmenuopen ? 'ap-o-toc contentmenuopen' : 'ap-o-toc'">
    <label class="ap-o-toc-toggle" for="toc" on="tap:AMP.setState({contentmenuopen: !contentmenuopen})" role="contentmenutrigger" tabindex="0">
      <span class="ap-o-toc-hl">Table of contents</span>
      <span class="nav-icon">
        <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
      </span>
    </label>
    <input class="ap-a-sidebar-toggle-input ap-a-sidebar-toggle-input-toc" type="checkbox" name="toc" id="toc" autocomplete="off">
    <ul><li><a href="#background">Background </a><ul>
<li><a href="#display-contexts-for-amp-pages">Display contexts for AMP pages </a></li>
<li><a href="#multiple-contexts-means-multiple-state-management">Multiple contexts means multiple state management </a></li>
</ul>
</li>
<li><a href="#implementation-guide">Implementation guide </a><ul>
<li><a href="#before-getting-started">Before getting started </a></li>
<li><a href="#task-1:-for-non-amp-pages-on-the-publisher-origin,-set-up-an-identifier-and-send-analytics-pings">Task 1: For non-AMP pages on the publisher origin, set up an identifier and send analytics pings </a><ul>
<li><a href="#set-up-an-identifier-using-first-party-cookies">Set up an identifier using first-party cookies </a></li>
<li><a href="#send-analytics-pings">Send analytics pings </a></li>
</ul>
</li>
<li><a href="#task-2:-for-amp-pages,-set-up-an-identifier-and-send-analytics-pings-by-including-client-id-replacement-in-amp-analytics-pings">Task 2: For AMP pages, set up an identifier and send analytics pings by including Client ID replacement in amp-analytics pings </a></li>
<li><a href="#task-3:-process-analytics-pings-from-pages-on-the-publisher-origin">Task 3: Process analytics pings from pages on the publisher origin </a></li>
<li><a href="#task-4:-process-analytics-pings-from-amp-cache-or-amp-viewer-display-contexts-and-establish-identifier-mappings-(if-needed)">Task 4: Process analytics pings from AMP cache or AMP viewer display contexts and establish identifier mappings (if needed) </a><ul>
<li><a href="#reviewing-the-problem">Reviewing the problem </a></li>
<li><a href="#solution-strategy">Solution strategy </a></li>
<li><a href="#implementation-steps">Implementation steps </a><ul>
<li><a href="#mapping-table">Mapping table </a></li>
<li><a href="#data-storage">Data storage </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#task-5:-using-client-id-in-linking-and-form-submission">Task 5: Using Client ID in linking and form submission </a><ul>
<li><a href="#using-substitution-features">Using substitution features </a></li>
<li><a href="#extracting-url-query-parameters">Extracting URL query parameters </a></li>
<li><a href="#processing-multiple-identifiers-in-an-analytics-ping">Processing multiple identifiers in an analytics ping </a></li>
<li><a href="#parameter-validation">Parameter validation </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#strongly-recommended-practices">Strongly recommended practices </a><ul>
<li><a href="#keep-just-one-association">Keep just one association </a></li>
<li><a href="#respect-cookie-and-local-storage-deletions">Respect cookie and local storage deletions </a></li>
<li><a href="#comply-with-local-laws-and-regulations">Comply with local laws and regulations </a></li>
</ul>
</li></ul>

  </div>
</section>

<section class="ap--content">

<label class="ap-a-sidebar-toggle-label ap-a-sidebar-mobile-toggle-label ap-a-sidebar-mobile-toggle-label-sidebar" for="sidebar" on="tap:sidebar-left.toggle" role="categoriemenutrigger" tabindex="0">
  <span class="label-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sidebar-toggle"></use></svg></span>
  <span class="label-title">Toggle Sidebar</span>
</label>
<label class="ap-a-sidebar-toggle-label ap-a-sidebar-desktop-toggle-label ap-a-sidebar-desktop-toggle-label-sidebar" for="sidebar-desktop" role="categoriemenutrigger-desktop" tabindex="0">
  <span class="label-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sidebar-toggle"></use></svg></span>
  <span class="label-title">Toggle Sidebar</span>
</label>
<nav class="ap-m-breadcrumbs">
  <a class="ap-m-breadcrumbs-crumb" href="/documentation/">Documentation</a>

    <span class="ap-m-breadcrumbs-divider">
      <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
    </span>

      <div class="ap-m-breadcrumbs-crumb">Guides & Tutorials</div>


</nav>


  <h1>Manage non-authenticated user state with AMP</h1>

  [% set availableFormats = ["websites"] %]
  [% if not availableFormats.includes(format) %]
  <div class="ap-m-tip">
    <div class="ap-a-ico ap-m-tip-icon">
      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#warning-sign"></use></svg>
    </div>

    <div class="ap-m-tip-content">
      <p>Important: this documentation is not applicable to your currently selected format <b>[= format =]</b>!</p>
    </div>
  </div>
  [% endif %]



  <!--
This file is imported from https://github.com/ampproject/amphtml/blob/master/spec/amp-managing-user-state.md.
Please do not change this file.
If you have found a bug or an issue please
have a look and request a pull request there.
-->

<!---
Copyright 2017 The AMP HTML Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<p><strong>Table of contents</strong></p>
<ul>
<li><a href="#background">Background</a></li>
<li><a href="#implementation-guide">Implementation guide</a><ul>
<li><a href="#before-getting-started">Before getting started</a></li>
<li><a href="#task1">Task 1: For non-AMP pages on the publisher origin, set up an identifier and send analytics pings</a></li>
<li><a href="#task2">Task 2: For AMP pages, set up an identifier and send analytics pings by including Client ID replacement in amp-analytics pings</a></li>
<li><a href="#task3">Task 3: Process analytics pings from pages on the publisher origin</a></li>
<li><a href="#task4">Task 4: Process analytics pings from AMP cache or AMP viewer display contexts and establish identifier mappings (if needed)</a></li>
<li><a href="#task5">Task 5: Using Client ID in linking and form submission</a></li>
</ul>
</li>
<li><a href="#strongly-recommended-practices">Strongly recommended practices</a></li>
</ul>
<p>User state is an important concept on todays web. Consider the following use cases that are enabled by managing user state:</p>
<ul>
<li>A merchant builds a useful <strong>shopping cart</strong> that shows a user the same items during their second visit that they had added to the cart during their first visit many weeks ago. Such an experience increases the chance of the user buying that item by making sure they remain aware of the item they considered buying in the past.</li>
<li>A news publisher who can tailor <strong>recommended articles</strong> to a reader based on the readers repeated visits to the publishers articles, which helps keep the reader engaged and discovering more content.</li>
<li>A website developer running any type of site collects <strong>analytics</strong> that can tell if two pageviews belong to the same person who saw two pages or to two different people who each saw a single page. Having this insight helps to know how the site is performing, and, ultimately, how to improve it.</li>
</ul>
<p>This article is designed to help you be more successful in <strong>managing non-authenticated user state in AMP</strong>, a way of providing a seamless user journey even if the user hasnt taken an action to provide their identity, like signing in. After reviewing some of the challenges and considerations in approaching this topic, this guide outlines the ways in which user state is supported by AMP and offers recommendations on how you can approach a technical implementation.</p>
<h2 id="background">Background <a name="background"></a></h2>
<p>The topic of user state deserves special attention in AMP because AMP pages can display in multiple contexts such as on your website, in Google Search or a third party app. This introduces challenges in managing user state when users travel between these.</p>
<h3 id="display-contexts-for-amp-pages">Display contexts for AMP pages <a name="display-contexts-for-amp-pages"></a></h3>
<p>You can think of AMP as a portable content format that enables content to be loaded fast anywhere. AMP documents can be displayed via three noteworthy contexts:</p>
<ul>
<li>The publisher's origin</li>
<li>An AMP cache</li>
<li>An AMP viewer</li>
</ul>
<table>
  <tr>
    <th width="20%">Context</th>
    <th width="20%">Can non-AMP pages be served from here?</th>
    <th width="20%">Can AMP pages be served from here?</th>
    <th>Sample URL</th>
  </tr>
  <tr>
    <td>Publishers origin</td>
    <td>Yes</td>
    <td>Yes</td>
    <td><code>https://example.com/article.amp.html</code></td>
  </tr>
   <tr>
    <td>AMP cache</td>
    <td>No</td>
    <td>Yes</td>
    <td><code>https://example-com.cdn.ampproject.org/s/example.com/article.amp.html</code></td>
  </tr>
   <tr>
    <td>AMP viewer</td>
    <td>No</td>
    <td>Yes</td>
    <td><code>https://google.com/amp/s/example.com/article.amp.html</code></td>
  </tr>
</table>

<p>Lets examine each of these situations more closely.</p>
<p><strong>Context #1: the publishers origin.</strong> AMP pages are deployed so that they are originally hosted from and accessible via the publishers site, e.g. on <code>https://example.com</code> one might find <code>https://example.com/article.amp.html</code>.</p>
<p>Publishers can choose to publish exclusively in AMP, or to publish two versions of content (that is, AMP content "paired" with non-AMP content). The "paired" model requires some <a href="https://amp.dev/documentation/guides-and-tutorials/optimize-and-measure/discovery">particular steps</a> to ensure the AMP versions of pages are discoverable to search engines, social media sites, and other platforms. Both publishing approaches are fully supported; it's up to the publisher to decide on which approach to take.</p>
<blockquote>
<p><strong>NOTE:</strong></p>
<p>Due to the "paired" publishing model just described, the publishers origin (in the example above, <code>https://example.com</code>) is a context in which <strong>both AMP and non-AMP content can be accessed</strong>. Indeed, its the only context in which this can happen because AMP caches and AMP viewers, described below, only deliver valid AMP content.</p>
</blockquote>
<p><strong>Context #2: an AMP cache.</strong> AMP files can be cached in the cloud by a third-party cache to reduce the time content takes to get to a users mobile device.</p>
<p>By using the AMP format, content producers are making the content in AMP files available to be cached by third parties. Under this type of framework, publishers continue to control their content (by publishing to their origin as detailed above), but platforms can cache or mirror the content for optimal delivery speed to users.</p>
<p>Traditionally, content served in this way originates from a different domain. For example, the <a href="https://developers.google.com/amp/cache/overview">Google AMP Cache</a> uses <code>https://cdn.ampproject.org</code> to deliver content, e.g. <code>https://example-com.cdn.ampproject.org/s/example.com/article.amp.html</code>.</p>
<p><strong>Context #3: an AMP viewer.</strong> The AMP format is built to support embedding within third-party AMP viewers. This enables a high degree of cooperation between the AMP file and the viewer experience, benefits of which include: smart and secure preloading and pre-rendering of content and innovative affordances like swiping between full AMP pages.</p>
<p>Just like the AMP cache case, expect the domain for an AMP viewer to also be different from the publisher origin. For example, the viewer for Google Search is hosted on <code>https://google.com</code> and embeds an iframe that requests the publisher content from the Google AMP Cache.</p>
<h3 id="multiple-contexts-means-multiple-state-management">Multiple contexts means multiple state management <a name="multiple-contexts-means-multiple-state-management"></a></h3>
<p>Publishers must be prepared to manage the user state for each display context separately. AMPs <a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md#client-id">Client ID</a> feature, which takes advantage of cookies or local storage to persist state, provides the necessary support for AMP pages to have a stable and pseudonymous identifier for the user. From an implementation point of view, either cookies or local storage are used, and AMP makes the decision which to use depending on the display context. This choice is influenced by the technical feasibility of managing this state scaled to hundreds or thousands of publishers.</p>
<p>However, publishers of AMP pages can easily end up (unwittingly) designing user journeys that involve multiple contexts. Lets revisit our earlier look at the shopping cart use case and add some more detail to it to make a full <strong>user story</strong>:</p>
<blockquote>
<p><em>On day 1, the user discovers an AMP page from Example Inc. via Google Search. Google Search loads AMP pages in an AMP viewer. While viewing the page, the user adds four items to their shopping cart but doesn't check out. Two weeks later, on day 15, the user remembers the four items they were considering to purchase and decides now is the time to buy. They access Example Inc.s homepage at <code>https://example.com</code> directly (it is a non-AMP homepage) and finds their four items are still saved in the shopping cart.</em></p>
</blockquote>
<p>In this scenario, the user receives a consistent shopping cart experience even though she has traversed from an AMP viewer context to a publisher origin contextand with some time passing between these events. This experience is very reasonable and, if youre designing a shopping experience, you should expect to support it, so how do you make it happen?</p>
<p><strong>To enable this and any experience involving user state, all contexts the user traverses must share their individually-maintained state with each other.</strong> "Perfect!", you say, with the idea to share the cookie values with user identifiers across these contextual boundaries. One wrinkle: even though each of these contexts displays content controlled by the same publisher, they each see the other as a third-party because each context lives on different domains.</p>
<p><amp-img alt="AMP's ability to be displayed in many contexts means that each of those contexts has its own storage for identifiers" layout="responsive" src="https://github.com/ampproject/amphtml/raw/master/spec/img/contexts-with-different-storage.png" width="1030" height="868">
  <noscript>
    <img alt="AMP's ability to be displayed in many contexts means that each of those contexts has its own storage for identifiers" src="https://github.com/ampproject/amphtml/raw/master/spec/img/contexts-with-different-storage.png" />
  </noscript>
</amp-img></p>
<p>As you'll see in the following discussion, being in a third-party position when interacting with cookies may present challenges, depending on how the users browser settings are configured. In particular, if third party cookies are blocked in a particular situation, then it will prevent the ability for information to be shared across the contexts. On the other hand, if third-party cookie operations are allowed, then information can be shared.</p>
<h2 id="implementation-guide">Implementation guide <a name="implementation-guide"></a></h2>
<p>This section provides recommendations for managing user state. The tasks below are presented as a progression, but can largely be viewed in two chunks:</p>
<p><strong>Chunk #1: Fundamental implementation:</strong> Tasks 1-4 are essential toward getting the basics working. They rely on a minimal set of features needed to get the job partially done: AMPs Client ID substitution, reading and writing of cookies, and maintaining a backend mapping table. Why "partially"? Because the steps conveyed in these tasks rely on reading and writing cookies and because the browsers cookie settings may prevent this in certain circumstances, this set of tasks is likely to be insufficient for fully managing user state in all scenarios.</p>
<p>After laying the foundation, we then visit a topic with a narrower range of use cases but that offers a complete solution for those use cases.</p>
<p><strong>Chunk #2: Using Client ID in linking and form submission:</strong> In Task 5, you'll learn to advantage of link traversal and/or form submission to pass AMP Client ID information across contextual boundaries where the user is traversing from one page directly to another.</p>
<blockquote>
<p><strong>CAUTION:</strong></p>
<p>The following implementation guide advises usage of and working with cookies. Be sure to consult the <a href="#strongly-recommended-practices">Strongly recommended practices</a> section for important suggestions to keep in mind.</p>
</blockquote>
<h3 id="before-getting-started">Before getting started <a name="before-getting-started"></a></h3>
<p>In walking through the technical guidance below, let's assume that youll be binding <strong>user state</strong> to a stable <strong>identifier</strong> that represents the user. For example, the identifier might look like <code>n34ic982n2386n30</code>. On the server side you then associate <code>n34ic982n2386n30</code> to any set of user state information, such as shopping cart content, a list of previously read articles, or other data depending on the use case.</p>
<p><amp-img alt="A single identifier could be used to manage user state for many use cases" layout="responsive" src="https://github.com/ampproject/amphtml/raw/master/spec/img/identifiers-for-use-cases.png" width="1276" height="376">
  <noscript>
    <img alt="A single identifier could be used to manage user state for many use cases" src="https://github.com/ampproject/amphtml/raw/master/spec/img/identifiers-for-use-cases.png" />
  </noscript>
</amp-img></p>
<p>For clarity throughout the rest of this document, well call various strings of characters that are identifiers by more readable names preceded by a dollar sign (<code>$</code>):</p>
<div class="ap-m-code-snippet"><pre><span></span>n34ic982n2386n30  $sample_id
</pre></div>

<p><strong>Our use case:</strong> Throughout this guide we will work on an example designed to achieve simple pageview tracking (i.e., analytics) in which we want to produce the most accurate user counting possible. This means that even if the user is accessing a particular publishers content from different contexts (including crossing between AMP and non-AMP pages), we want these visits to be counted toward a singular understanding of the user that is the same as if the user were browsing only on such publishers traditional non-AMP pages.</p>
<p><strong>Assumption about availability of stable cookie values:</strong> We also assume that the user is using the same device, browser, and non-private/incognito browsing, in order to assure that cookie values are preserved and available across the users sessions over time. If this is not the case, these techniques should not be expected to work. If this is required, look to manage user state based on the users authenticated (i.e. signed-in) identity.</p>
<p><strong>The concepts presented below can be extended to other use cases:</strong> Although we focus just on the analytics use case, the concepts conveyed below can be reworked for other use cases requiring user state management across contexts.</p>
<p><a id="task1"></a></p>
<h3 id="task-1:-for-non-amp-pages-on-the-publisher-origin,-set-up-an-identifier-and-send-analytics-pings">Task 1: For non-AMP pages on the publisher origin, set up an identifier and send analytics pings <a name="task-1-for-non-amp-pages-on-the-publisher-origin-set-up-an-identifier-and-send-analytics-pings"></a></h3>
<p>Lets begin by configuring analytics for non-AMP pages served off of the publisher origin. This can be achieved in many ways, including using an analytics package like Google Analytics or Adobe Analytics, or by writing a custom implementation.</p>
<p>If youre using an analytics package from a vendor, its likely that package takes care of both setting up cookies and transmitting pings via its configuration code and APIs. If this is the case, you should read through the steps below to ensure they align with your analytics approach but expect that you wont need to make any changes as part of completing this task.</p>
<p>The rest of this task offers guidance if you are looking to set up your own analytics.</p>
<h5 id="set-up-an-identifier-using-first-party-cookies">Set up an identifier using first-party cookies <a name="set-up-an-identifier-using-first-party-cookies"></a></h5>
<p>If you have non-AMP pages being served from your publisher origin, set up a persistent and stable identifier to be used on these pages. This is typically <a href="https://en.wikipedia.org/wiki/HTTP_cookie#Tracking">implemented with first-party cookies</a>.</p>
<p>For the purposes of our example, lets say youve set a cookie called <code>uid</code> ("user identifier") that will be created on a users first visit. If its not the users first visit, then read the value that was previously set on the first visit.</p>
<p>This means there are two cases for the state of non-AMP pages on the publisher origin:</p>
<p><strong>Case #1: Initial visit.</strong> Upon first landing on the non-AMP page, there will be no cookie. If you checked for the cookie before one was set, youd see no values set in the cookie corresponding to the <code>uid</code>:</p>
<div class="ap-m-code-snippet"><pre><span></span>&gt; document.cookie
  <span class="s2">&quot;&quot;</span>
</pre></div>

<p>Sometime in the initial load, the cookie should be set, so that if you do this once the page is loaded, you will see a value has been set:</p>
<div class="ap-m-code-snippet"><pre><span></span>&gt; document.cookie
  <span class="s2">&quot;uid=</span><span class="nv">$publisher_origin_identifier</span><span class="s2">&quot;</span>
</pre></div>

<p><strong>Case #2: Non-initial visit.</strong> There will be a cookie set. Thus, if you open the developer console on the page, youd see:</p>
<div class="ap-m-code-snippet"><pre><span></span>&gt; document.cookie
  <span class="s2">&quot;uid=</span><span class="nv">$publisher_origin_identifier</span><span class="s2">&quot;</span>
</pre></div>

<h5 id="send-analytics-pings">Send analytics pings <a name="send-analytics-pings"></a></h5>
<p>Once youve set up an identifier, you can now incorporate it in analytics pings to begin tracking pageviews.</p>
<p>The specific implementation will depend on your desired configuration, but generally youll be looking to send pings (requests) to your analytics server, which include useful data within the URL of the request itself. Heres an example, which also indicates how youd include your cookie value inside of the request:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://analytics.example.com/ping?type=pageview&amp;user_id=$publisher_origin_identifier</span>
</pre></div>

<p>Note that in the above example the identifier for the user is indicated by a specific query param, <code>user_id</code>:</p>
<div class="ap-m-code-snippet"><pre><span></span>user_id=$publisher_origin_identifier
</pre></div>

<p>The use of "<code>user_id</code>" here should be determined by what your analytics server expects to process and is not specifically tied to what you call the cookie that stores the identifier locally.</p>
<p><a id="task2"></a></p>
<h3 id="task-2:-for-amp-pages,-set-up-an-identifier-and-send-analytics-pings-by-including-client-id-replacement-in-amp-analytics-pings">Task 2: For AMP pages, set up an identifier and send analytics pings by including Client ID replacement in amp-analytics pings <a name="task-2-for-amp-pages-set-up-an-identifier-and-send-analytics-pings-by-including-client-id-replacement-in-amp-analytics-pings"></a></h3>
<p>Turning now to AMP pages, let's look at how you can establish and transmit an identifier for analytics. This will be applicable regardless of the context the AMP page is presented in, so this covers any AMP page on the publisher origin, served via an AMP cache, or displayed in AMP viewer.</p>
<p>Through usage of features that require Client ID, AMP will do the "under the hood" work to generate and store client ID values and surface them to the features that require them. One of the principal features that can use AMPs Client ID is <a href="https://amp.dev/documentation/components/amp-analytics">amp-analytics</a>, which happens to be exactly what well need to implement our analytics use case example.</p>
<p>On AMP pages, construct an amp-analytics ping containing the Client ID:</p>
<table>
  <tr>
    <td width="40%"><strong>amp-analytics configuration looks like:</strong></td>
    <td width="60%"><code>https://analytics.example.com/ping?type=pageview&amp;user_id=${clientId(uid)}</code></td>
  </tr>
  <tr>
    <td><strong>What goes over the network looks like:</strong></td>
    <td><code>https://analytics.example.com/ping?type=pageview&amp;user_id=$amp_client_id</code><p><em>In this case, <code>${clientId(uid)}</code> is replaced by an actual value that AMP either generates at that moment or will be returned based on what the users browser has already stored locally</em></p></td>
  </tr>
</table>

<p>Take note of the fact that the parameter passed into the Client ID substitution, <code>${clientId(uid)</code>, is <code>uid</code>. This was a deliberate choice that matches the same cookie name used on the publisher origin as described in <a href="#task1">Task 1</a>. For the most seamless integration, you should apply the same technique.</p>
<p>Concerning the rest of the amp-analytics implementation, see the documentation for <a href="https://amp.dev/documentation/guides-and-tutorials/optimize-measure/configure-analytics/">amp-analytics configuration</a> for more detail on how to set up amp-analytics requests or to modify those of your analytics vendor. The ping can be further modified to transport additional data that you either directly define or by taking advantage of other <a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md">AMP substitutions</a>.</p>
<blockquote>
<p><strong>Good to know:</strong></p>
<p>Why did we use of the name <code>uid</code> for the parameter passed to the Client ID feature? The parameter that the <code>clientId(...)</code> substitution takes is used to define scope. You can actually use the Client ID feature for many use cases and, as a result, generate many client IDs. The parameter differentiates between these use cases and so you use it to specify which use case you would like a Client ID for. For instance, you might want to send different identifiers to third parties like an advertiser and you could use the "scope" parameter to achieve this.</p>
</blockquote>
<p>On the publisher origin, its easiest to think of "scope" as what you call the cookie. By recommending a value of <code>uid</code> for the Client ID parameter here in <a href="#task2">Task 2</a>, we align with the choice to use a cookie called <code>uid</code> in <a href="#task1">Task 1</a>.</p>
<p><a id="task3"></a></p>
<h3 id="task-3:-process-analytics-pings-from-pages-on-the-publisher-origin">Task 3: Process analytics pings from pages on the publisher origin <a name="task-3-process-analytics-pings-from-pages-on-the-publisher-origin"></a></h3>
<p>Because of the setup performed in Tasks 1 and 2, when someone accesses the AMP version (from any context) or the non-AMP version on the publisher origin the analytics ping will use the same identifier. By following the guidance in <a href="#task2">Task 2</a> to choose a Client ID "scope" that was the same name as the name of the cookie you used in <a href="#task1">Task 1</a>, AMP reuses the same cookie.</p>
<p>This is illustrated in the table below:</p>
<table>
  <tr>
    <td width="40%">An analytics ping coming from a <strong>non-AMP page on the publisher origin</strong> looks like</td>
    <td width="60%"><code>https://analytics.example.com/ping?type=pageview&amp;user_id=$publisher_origin_identifier</code></td>
  </tr>
  <tr>
    <td>An analytics ping coming from an <strong>AMP page on the publisher origin</strong> looks like</td>
    <td><code>https://analytics.example.com/ping?type=pageview&amp;user_id=$publisher_origin_identifier</code><br><em>In this case, it's the same! By choosing a scope value of <code>uid</code> the underlying value of the <code>uid</code> cookie, which is <code>$publisher_origin_identifier</code>, gets used.</em></td>
  </tr>
</table>

<p><a id="task4"></a></p>
<h3 id="task-4:-process-analytics-pings-from-amp-cache-or-amp-viewer-display-contexts-and-establish-identifier-mappings-(if-needed)">Task 4: Process analytics pings from AMP cache or AMP viewer display contexts and establish identifier mappings (if needed) <a name="task-4-process-analytics-pings-from-amp-cache-or-amp-viewer-display-contexts-and-establish-identifier-mappings-if-needed"></a></h3>
<p>When we set up analytics pings in <a href="#task2">Task 2</a> to transmit data from AMP pages displayed within an AMP cache or AMP viewer, we also created a problem. As discussed previously, AMP cache and AMP viewer contexts are different from the publisher origin context, and along with this comes as different way of maintaining identifiers. To process these pings to avoid problems like overcounting users, well take some <a href="#implementation-steps">steps</a> to try and reconcile identifiers as often as we can.</p>
<p>To help explain the steps were taking, its helpful to first reconsider exactly how the overcounting problem arises.</p>
<h4 id="reviewing-the-problem">Reviewing the problem <a name="reviewing-the-problem"></a></h4>
<p>Consider the following flow:</p>
<ol>
<li>A user visits the <strong>AMP page in an AMP viewer display context</strong>, such as <code>https://google.com/amp/s/example.com/article.amp.html</code>. Since the AMP viewer does not have access to the <code>uid</code> cookie on the publisher origin, a random value of <code>$amp_client_id</code> is generated to identify the user.</li>
<li>The same user then visits <strong>a page on the publisher origin <code>https://example.com</code></strong>. As described in <a href="#task3">Task 3</a>, the user is identified with <code>$publisher_origin_identifier</code>.</li>
</ol>
<p>Here (1) and (2) happen on different origins (or contexts). Because of this, theres no shared state and <code>$amp_client_id</code> is different from <code>$publisher_origin_identifier</code>. So, whats the impact? (1) is a single pageview session that looks like one user and (2) is another single pageview session that looks like its coming from another user. <strong>Basically, even though the user has stayed engaged with <code>https://example.com</code> content, we overcount users and the user in (1) looks like a bounce (a single page visit).</strong></p>
<h4 id="solution-strategy">Solution strategy <a name="solution-strategy"></a></h4>
<p>To address the problem of overcounting, you should employ the following strategy, the potency of which depends on whether reading or writing of third-party cookies is permitted:</p>
<ul>
<li><strong>Immediate identifier reconciliation: If you can access or change the publisher origin cookies</strong>, use or create the publisher origin identifier and ignore any identifier within the analytics request. You will be able to successfully link activity between the two contexts.</li>
<li><strong>Delayed identifier reconciliation: If you cannot access or change the publisher origin identifier (i.e. the cookies)</strong>, then fall back to the AMP Client ID that comes within the analytics request itself. Use this identifier as an "<strong>alias</strong>", rather than using or creating a new publisher origin identifier (cookie), which you cannot do (because of third party cookie blocking), and add the alias to a <strong>mapping table</strong>. You will be unsuccessful in immediately linking activity between the two contexts, but by using a mapping table you may be able to link the AMP Client ID value with the publisher origin identifier on a future visit by the user. When this happens, you will have the needed information to link the activity and reconcile that the page visits in the different contexts came from the same user. Task 5 describes how to achieve a complete solution in specific scenarios where the user traverses from one page immediately to another.</li>
</ul>
<h4 id="implementation-steps">Implementation steps <a name="implementation-steps"></a></h4>
<p>On the server check for an existing publisher origin identifier</p>
<p>Read the cookies sent as part of the analytics request. In our example, this means checking for the <code>uid</code> cookie from example.com.</p>
<ul>
<li>If the <code>uid</code> value is successfully read, use it to record analytics data (<strong>analytics record identifier</strong>). Because of <a href="#task1">Task 1</a>, we know this identifiers value is <code>$publisher_origin_identifier</code>. With an analytics record identifier established, we can skip ahead to the <a href="#data-storage">Data storage</a> section.</li>
<li>If the <code>uid</code> value is not successfully read, proceed with the steps below involving the mapping table.</li>
</ul>
<h5 id="mapping-table">Mapping table <a name="mapping-table"></a></h5>
<p>Our mapping table will associate AMP Client ID values that are seen in the analytics pings to publisher origin identifiers as follows:</p>
<table>
  <tr>
    <th width="50%"><strong>User ID on publisher origin</strong></th>
    <th width="50%"><strong>User ID on AMP page thats NOT on publisher origin ("alias")</strong></th>
  </tr>
  <tr>
    <td>Comes from publisher origin identifier or generated as a prospective value if the publisher origin identifier cannot be accessed.</td>
    <td>Comes from AMP Client ID</td>
  </tr>
</table>

<p>Immediately after determining that you were unsuccessful in reading the publisher origin identifier, check if the AMP Client ID contained within the analytics ping is already used in a mapping. To do this, first consult the incoming amp-analytics request to get the Client ID value. For example, from this request:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://analytics.example.com/ping?type=pageview&amp;user_id=$amp_client_id</span>
</pre></div>

<p>we extract out the bolded portion corresponding to the AMP Client ID: <code>$amp_client_id</code>.</p>
<p>Next, examine the mapping table to try and find the same value in the "alias" column:</p>
<table>
  <tr>
    <th width="50%"><strong>User ID on publisher origin</strong></th>
    <th width="50%"><strong>User ID on AMP page thats NOT on publisher origin ("alias")</strong></th>
  </tr>
  <tr>
    <td><code>$existing_publisher_origin_identifier</code></td>
    <td><code>$amp_client_id</code></td>
  </tr>
</table>

<p>In the example above, we find a record that already exists. The value we find thats paired with the AMP Client ID becomes the analytics record identifier. Here, that is <code>$existing_publisher_origin_identifier</code>. With an analytics record identifier established, we can skip ahead to the <a href="#data-storage">Data storage</a> section.</p>
<p>Otherwise, if the AMP Client ID is not found in a mapping, we need to create a mapping:</p>
<ol>
<li>Generate a <strong>prospective publisher origin identifier</strong>. Lets call this <code>$prospective_identifier</code> in the examples to follow. This value should be created in accordance with how you set up the value on the publisher origin, as described in <a href="#task1">Task 1</a> above.</li>
<li>Next, attempt to <a href="https://en.wikipedia.org/wiki/HTTP_cookie#Setting_a_cookie">set</a> the prospective publisher origin identifier as a cookie on the publisher origin. This will succeed if third-party cookies can be written, and otherwise it will fail.</li>
<li>Then, store the {prospective publisher origin identifier, AMP Client ID} pair.</li>
</ol>
<p>The mapping weve created ends up looking like this:</p>
<table>
  <tr>
    <th><strong>User ID on publisher origin</strong></th>
    <th><strong>User ID on AMP page thats NOT on publisher origin ("alias")</strong></th>
  </tr>
  <tr>
    <td><code>$prospective_identifier</code>(generated just-in-time when analytics ping is received)</td>
    <td><code>$amp_client_id</code> (came from analytics ping)</td>
  </tr>
</table>

<p>Well use the prospective publisher origin identifier as the analytics record identifier since thats the value associated with the state on the publisher origin. In this case thats <code>$prospective_identifier</code>, which will come into play in the <a href="#data-storage">Data storage</a> section that follows.</p>
<h5 id="data-storage">Data storage <a name="data-storage"></a></h5>
<p>Now that you've figured out the analytics record identifier you can actually store the user state information (analytics data in this case) keyed by that identifier:</p>
<div class="ap-m-code-snippet"><pre><span></span>{analytics record identifier, analytics data ...}
</pre></div>

<p><a id="task5"></a></p>
<h3 id="task-5:-using-client-id-in-linking-and-form-submission">Task 5: Using Client ID in linking and form submission <a name="task-5-using-client-id-in-linking-and-form-submission"></a></h3>
<p>In general, when reading and writing third-party cookies is disallowed, there will be situations where managing user state is impossible to do with complete effectiveness. In Tasks 1-4, the steps weve taken help in two ways: (1) They provide a completely effective solution for when reading and writing third-party cookies is allowed, and (2) they set our system up to take advantage of any eventual opportunity to reconcile cross-context identifiers if immediate reconciliation is impossible due to the browsers cookie settings.</p>
<p>In this task, well cover an additional optimization that helps when the user is navigating across contexts from one page to another page either <strong>via linking or form submissions</strong>. In these situations, and with the implementation work described below, it is possible to set up a fully effective scheme for managing user state across contexts.</p>
<p><amp-img alt="Links can be used to pass the identifier information of one context into another (linked) context" layout="responsive" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-form-identifier-forwarding.png" width="866" height="784">
  <noscript>
    <img alt="Links can be used to pass the identifier information of one context into another (linked) context" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-form-identifier-forwarding.png" />
  </noscript>
</amp-img></p>
<h5 id="using-substitution-features">Using substitution features <a name="using-substitution-features"></a></h5>
<p>Our approach will take advantage of two types of <a href="https://github.com/ampproject/amphtml/blob/master/spec/./amp-var-substitutions.md">AMP variable substitutions</a>.</p>
<p><strong>To update outgoing links to use a Client ID substitution:</strong> Define a new query parameter, <code>ref_id</code> ("referrer ID"), which will appear within the URL and indicate the <strong>originating contexts identifier</strong> for the user. Set this query parameter to equal the value of AMPs Client ID substitution:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span>
  <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example.com/step2.html?ref_id=CLIENT_ID(uid)&quot;</span>
  <span class="na">data-amp-replace</span><span class="o">=</span><span class="s">&quot;CLIENT_ID&quot;</span>
<span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>

<p><strong>Alternative solution for passing Client ID to the outgoing links:</strong> Define the new query parameter <code>ref_id</code> as part of the data attribute <code>data-amp-addparams</code> and for queries that needs parameter substitution provide those details as part of <code>data-amp-replace</code>. With this approach the URL would look clean and the parameters specified on <code>data-amp-addparams</code> will be dynamically added</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span>
  <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example.com/step2.html&quot;</span>
  <span class="na">data-amp-addparams</span><span class="o">=</span><span class="s">&quot;ref_id=CLIENT_ID(uid)&quot;</span>
  <span class="na">data-amp-replace</span><span class="o">=</span><span class="s">&quot;CLIENT_ID&quot;</span>
<span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>

<p>For passing multiple query parameters through <code>data-amp-addparams</code> have those <code>&amp;</code> separated like</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span>
  <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example.com/step2.html&quot;</span>
  <span class="na">data-amp-addparams</span><span class="o">=</span><span class="s">&quot;ref_id=CLIENT_ID(uid)&amp;pageid=p123&quot;</span>
  <span class="na">data-amp-replace</span><span class="o">=</span><span class="s">&quot;CLIENT_ID&quot;</span>
<span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>

<p><strong>To update form inputs to use a Client ID substitution:</strong> Define a name for the input field, such as <code>orig_user_id</code>. Specify the <code>default-value</code> of the form field to be the value of AMPs Client ID substitution:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span>
  <span class="na">name</span><span class="o">=</span><span class="s">&quot;ref_id&quot;</span>
  <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span>
  <span class="na">value</span><span class="o">=</span><span class="s">&quot;CLIENT_ID(uid)&quot;</span>
  <span class="na">data-amp-replace</span><span class="o">=</span><span class="s">&quot;CLIENT_ID&quot;</span>
<span class="p">/&gt;</span>
</pre></div>

<p>By taking these steps, the Client ID is available to the target server and/or as a URL parameter on the page the user lands on after the link click or form submission (the <strong>destination context</strong>). The name (or "key") will be <code>ref_id</code> because thats how weve defined it in the above implementations and will have an associated value equal to the Client ID. For instance, by following the link (<code>&lt;a&gt;</code> tag) defined above, the user will navigate to this URL:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://example.com/step2.html?ref_id=$amp_client_id</span>
</pre></div>

<p><amp-img alt="Example of how an identifier in an AMP viewer context can be passed via link into a publisher origin context" layout="responsive" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-identifier-forwarding-example-1.png" width="1038" height="890">
  <noscript>
    <img alt="Example of how an identifier in an AMP viewer context can be passed via link into a publisher origin context" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-identifier-forwarding-example-1.png" />
  </noscript>
</amp-img></p>
<p>When the user lands on a page containing containing an <code>ref_id</code> value either as a URL parameter or in the header, we have the opportunity to co-process the <code>ref_id</code> identifier along with the identifier exposed via the page itself (i.e. a cookie value). By including both in an analytics ping, your analytics server can work with both values simultaneously, and, knowing they are related, reflect this relationship in your backend. The next step provides details on how to do this.</p>
<h5 id="extracting-url-query-parameters">Extracting URL query parameters <a name="extracting-url-query-parameters"></a></h5>
<p>By using substitution features, we set up a link navigation flow or form submission flow that exposes information, specifically the Client ID, to the target server and/or as a URL parameter that can be read on the client once the user completes the navigation.</p>
<p>If the information was exposed just to the server, e.g. via a form POST, then you can proceed to process the information and render the resulting page. When processing such data, please take note of the steps regarding <a href="#parameter-validation">Parameter validation</a> that are detailed below.</p>
<p>If the information is available via URL and you wish to process it, there are a couple of approaches you can use:</p>
<ul>
<li>Process during redirect (server-side handling)</li>
<li>Process on the landing page (client-side handling)</li>
</ul>
<p><strong>Process during redirect (server-side handling)</strong></p>
<p>To process during redirect, handle the request on the server and extract the relevant parameter(s). Please take note of the steps regarding <a href="#parameter-validation">Parameter validation</a> that are detailed below. Process the data, combined with cookie values containing other relevant identifiers, and then redirect to a URL that does not contain the parameters.</p>
<p><strong>Process on the landing page (client-side handling)</strong></p>
<p>To process on the landing page, the approach will vary depending on whether that page is an AMP page or a non-AMP page.</p>
<p><amp-img alt="Example of how to construct an analytics ping that contains an identifier from the previous context provided via URL and an identifier from the current context" layout="responsive" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-identifier-forwarding-example-2.png" width="1326" height="828">
  <noscript>
    <img alt="Example of how to construct an analytics ping that contains an identifier from the previous context provided via URL and an identifier from the current context" src="https://github.com/ampproject/amphtml/raw/master/spec/img/link-identifier-forwarding-example-2.png" />
  </noscript>
</amp-img></p>
<p><em>Updates to AMP page:</em> Use the Query Parameter substitution feature in your amp-analytics configuration to obtain the <code>ref_id</code> identifier value within the URL. The Query Parameter feature takes a parameter that indicates the "key" of the desired key-value pair in the URL and returns the corresponding value. Use the Client ID feature as we have been doing to get the identifier for the AMP page context.</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://analytics.example.com/ping?type=pageview&amp;orig_user_id=${queryParam(ref_id)}&amp;user_id=${clientId(uid)}</span>
</pre></div>

<p>When this gets transmitted across the network, actual values will be replaced:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://analytics.example.com/ping?type=pageview&amp;orig_user_id=$referrer_page_identifier&amp;user_id=$current_page_identifier</span>
</pre></div>

<p>Following through our examples above, we have:</p>
<div class="ap-m-code-snippet"><pre><span></span>$referrer_page_identifier is $amp_client_id
$current_page_identifier is $publisher_origin_id
</pre></div>

<p>so the ping is actually:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://analytics.example.com/ping?type=pageview&amp;orig_user_id=$amp_client_id&amp;user_id=$publisher_origin_id</span>
</pre></div>

<p>We recommend validating the authenticity of query parameter values by using the steps outlined in the <a href="#parameter-validation">Parameter validation</a> section below.</p>
<p><em>Updates to non-AMP page:</em> Similarly, on a non-AMP page served from your publisher origin, extract and transmit <code>ref_id</code> value contained within the URL. Validate the authenticity of the value by following the steps outlined in the <a href="#parameter-validation">Parameter validation</a> section below. Then, construct analytics pings that will include both an <code>orig_user_id</code> derived from <code>ref_id</code> and a <code>user_id</code> based on the value of the first-party cookie identifier.</p>
<blockquote>
<p><strong>IMPORTANT:</strong></p>
<p>If you choose to process the parameters client-side on the landing page, the landing page should remove identifier information from URLs as soon as the identifier can be captured.</p>
<p>Before removing the parameters, be sure that other code that needs to run to read them has either:</p>
<ul>
  <li>Run before the removal happens; or</li>
  <li>Can access a place where the code that read and removed the parameters has stored the data</li>
</ul>
<p>To do this on your non-AMP page, include the following JavaScript, which will remove all query parameters from the URL:</p>
<pre>
var href = location.href.replace(/\?[^[% raw %]#]{% endraw %}+/, '');
history.replaceState(null, null, href);
</pre>
<p>Adapt this as needed to remove fewer query parameters.</p>
</blockquote>

<h5 id="processing-multiple-identifiers-in-an-analytics-ping">Processing multiple identifiers in an analytics ping <a name="processing-multiple-identifiers-in-an-analytics-ping"></a></h5>
<p>Unlike in <a href="#task4">Task 4</a> where we configured the analytics ping to contain just one identifier value, with the steps weve taken so far in Task 5 we now have two  <code>orig_user_id</code> and <code>user_id</code>. We will next cover how to process these two identifiers that are part of the inbound analytics ping.</p>
<p>Before we proceed, be sure to take note of the steps described in <a href="#parameter-validation">Parameter validation</a> below and ensure that you are willing to trust both of the values indicated by <code>orig_user_id</code> and <code>user_id</code>.</p>
<p>Check if either of the values corresponding to the inbound analytics ping are present in your mapping table. In our example above, the first pageview happens on an AMP page thats NOT on the publisher origin followed by the second pageview that happens on the publisher origin. As a result, the values for the analytics ping query parameters will look like this:</p>
<p><strong>Case #1: Identifier arrangement when analytics ping is sent from page on publisher origin</strong></p>
<table>
  <tr>
    <th width="20%"></th>
    <th width="40%"><strong>User ID on publisher origin</strong></th>
    <th width="40%"><strong>User ID on AMP page thats NOT on publisher origin ("alias")</strong></th>
  </tr>
  <tr>
    <td><strong>How its expressed in analytics ping</strong></td>
    <td><code>user_id=$publisher_origin_id</code></td>
    <td><code>orig_user_id=$amp_client_id</code></td>
  </tr>
  <tr>
    <td><strong>Parameter key</strong></td>
    <td><code>user_id</code></td>
    <td><code>orig_user_id</code></td>
  </tr>
  <tr>
    <td><strong>Parameter value</strong></td>
    <td><code>$publisher_origin_id</code></td>
    <td><code>$amp_client_id</code></td>
  </tr>
</table>

<p>Please notice that the identifier coming from the first pageview corresponds to the rightmost column and the identifier coming from the second pageview is in the middle column, in accordance with how our example flow above was constructed.</p>
<p>If instead the user starts on a page served from the publisher origin and subsequently navigates to an AMP page thats NOT on the publisher origin, then the keys of the parameters will be reversed, but the corresponding way that we reference the values will not be (i.e. <code>$amp_client_id</code> always refers to an identifier stored on an AMP page thats NOT on the publisher origin):</p>
<p><strong>Case #2: Identifier arrangement when analytics ping is sent from an AMP page thats NOT on the publisher origin</strong></p>
<table>
  <tr>
    <th width="20%"> </th>
    <th width="40%"><strong>User ID on publisher origin</strong></th>
    <th width="40%"><strong>User ID on AMP page thats NOT on publisher origin ("alias")</strong></th>
  </tr>
  <tr>
    <td><strong>How its expressed in analytics ping</strong></td>
    <td><code>orig_user_id=$publisher_origin_id</code></td>
    <td><code>user_id=$amp_client_id</code></td>
  </tr>
  <tr>
    <td><strong>Parameter key</strong></td>
    <td><code>orig_user_id</code></td>
    <td><code>user_id</code></td>
  </tr>
  <tr>
    <td><strong>Parameter value</strong></td>
    <td><code>$publisher_origin_id</code></td>
    <td><code>$amp_client_id</code></td>
  </tr>
</table>

<p>When you are searching the mapping table, take note of which situation applies and search for values within the columns of the mapping table where you expect them to appear. For instance, if the analytics ping is being sent from a page on the publisher origin (Case #1), then check for values keyed by <code>user_id</code> in the mapping table column "User ID on publisher origin" and check for values keyed by <code>orig_user_id</code> in the column "User ID on AMP page thats NOT on publisher origin (alias)".</p>
<p>If you cannot locate either identifier value being used in your mapping table, establish a new mapping:</p>
<ul>
<li>If the analytics request comes from a page on your publisher origin, then you should choose the value corresponding to <code>uid</code> to be the analytics record identifier; choose the value of <code>orig_uid</code> to be the "alias".</li>
<li>If the analytics request does not come from a page on your publisher origin, then you should choose the value corresponding to <code>uid</code> to be an "alias" value in the mapping table. Then, proceed with the remaining instructions in <a href="#task4">Task 4</a> to create a prospective publisher origin identifier and attempt to set this value as a cookie on the origin.</li>
</ul>
<h5 id="parameter-validation">Parameter validation <a name="parameter-validation"></a></h5>
<p>Values contained in a URL can be maliciously changed, malformed, or somehow otherwise not be the values that you expect to be there. This is sometimes called cross site request forgery. Just as it is important to ensure that the analytics pings that your analytics server receives are coming from pages that you expect to be sending analytics pings, when you are "forwarding" on values that were part of the URL, be sure to validate the referrer to ensure you can trust these values.</p>
<p>For instance, in the steps above, we constructed the following URL, intended for the user to click on and navigate to the corresponding page:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://example.com/step2.html?orig_user_id=$amp_client_id</span>
</pre></div>

<p>However, its just as possible that the user or some attacker change this URL to be:</p>
<div class="ap-m-code-snippet"><pre><span></span><span class="err">https://example.com/step2.html?orig_user_id=$malicious_value</span>
</pre></div>

<p>You want to ensure that you process only instances of <code>$amp_client_id</code> and avoid using instances of <code>$malicious_value</code>.</p>
<p><strong>Suggested steps for validating values received via URL query parameters:</strong> Confirm that the referrer of the landing page matches a URL youd expect to see. This should typically be one youve seen carrying a previously seen identifier value in a valid CORS request. We recommend that you only accept such known identifiers.</p>
<p>On a non-AMP page, check <code>document.referrer</code> directly on the client side or pass the value on as part of the analytics ping to be able to validate on the server side. If the referrer value is one you can trust, then you can accept and process values that originated from the URL of the landing page, such as <code>orig_user_id</code> in the example above.</p>
<p>On an AMP page, use the <a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md#document-referrer">Document Referrer</a> substitution variable to pass along the referrer value as part of the analytics ping. Server side processing is the only available option. To illustrate, heres an analytics ping that the landing page can send that contains (1) the Client ID value of the current page, (2) a value passed via URL that weve set up to be the Client ID value in the referring page, and (3) the referrer information itself to validate the value of (2): <code>https://analytics.example.com/ping?type=pageview&amp;orig_user_id=${queryParam(ref_id)}&amp;user_id=${clientId(uid)}&amp;referrer=${documentReferrer}</code></p>
<p>If you cannot trust the referrer, then reject any values provided via URL parameters and do not use them.</p>
<h2 id="strongly-recommended-practices">Strongly recommended practices <a name="strongly-recommended-practices"></a></h2>
<h3 id="keep-just-one-association">Keep just one association <a name="keep-just-one-association"></a></h3>
<p><strong>Only one association between identifiers from any two contexts should be maintained.</strong> If an AMP Client ID that you have previously associated with a cookie or other user identifier issued by you is seen together with a new cookie or user identifier that you issue, you should delete all state you held against the previous cookie and user identifier.</p>
<p>These steps will help ensure alignment with users expectations of privacy. As detailed in the preceding sections, managing user state in AMP will often involve storing and associating different identifiers across multiple contexts where AMP content is displayed. <strong>This situation should never be abused to reconstitute data or perform tracking that the user would not expect or that you have not clearly disclosed to the user, such as, for example, after the user has deleted his or her cookies for your sites.</strong></p>
<h3 id="respect-cookie-and-local-storage-deletions">Respect cookie and local storage deletions <a name="respect-cookie-and-local-storage-deletions"></a></h3>
<p><strong>You should respect all applicable privacy controls that are made available to the user, including any such controls creating the ability to delete all cookies and local storage.</strong> At no time should the AMP Client ID or AMP infrastructure be <a href="https://en.wikipedia.org/wiki/Zombie_cookie">used to reconstitute a deleted identifier</a> after a user expressly deletes one side of an identifier relationship.</p>
<h3 id="comply-with-local-laws-and-regulations">Comply with local laws and regulations <a name="comply-with-local-laws-and-regulations"></a></h3>
<p><strong>Associating cookies and/or identifiers from two or more domains might require updating your privacy policy, providing additional user disclosures, or obtaining end user consent in some jurisdictions.</strong> The usage of the AMP Client ID, which uses cookies or local storage as a means of persistent storage to offer a stable identifier, should be analyzed by each publisher with regard to all applicable laws and regulations regarding data collection, storage, processing, and user notice.</p>
</section>




  </div>
</main>


<amp-sidebar id="sidebar-left"
  class="ap--ampsidebar"
  layout="nodisplay"
  side="left">
  <nav class="ap--ampsidebar-toolbar"
       toolbar="(min-width: 768px)"
       toolbar-target="ap--sidebar-content">
    <ul>


<div class="ap-m-format-toggle">
  <button class="ap-m-format-toggle-selected ap-m-format-toggle-link-[= format =]">
    <span class="ap-a-ico">
      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-[= format =]"></use></svg>
    </span>
    <span>[= format =]</span>
    <span class="ap-a-ico ap-m-format-toggle-angle">
      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
    </span>
  </button>

  <div class="ap-m-format-toggle-formats">
    [% if format != 'websites' %]
    <a class="ap-m-format-toggle-link ap-m-format-toggle-link-websites" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=websites">
      <span class="ap-a-ico">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-websites"></use></svg>
      </span>
      <span>websites</span>
    </a>
    [% endif %]
    [% if format != 'stories' %]
    <a class="ap-m-format-toggle-link ap-m-format-toggle-link-stories" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=stories">
      <span class="ap-a-ico">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-stories"></use></svg>
      </span>
      <span>stories</span>
    </a>
    [% endif %]
    [% if format != 'ads' %]
    <a class="ap-m-format-toggle-link ap-m-format-toggle-link-ads" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=ads">
      <span class="ap-a-ico">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-ads"></use></svg>
      </span>
      <span>ads</span>
    </a>
    [% endif %]
    [% if format != 'email' %]
    <a class="ap-m-format-toggle-link ap-m-format-toggle-link-email" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/?format=email">
      <span class="ap-a-ico">
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#amp-email"></use></svg>
      </span>
      <span>email</span>
    </a>
    [% endif %]
  </div>
</div>
      <div class="ap-o-sidebar-default">

        <div class="ap-o-sidebar">
          <div class="nav">



                        <ul class="nav-list level-1">





                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-1">
                  <span class="nav-link">
                    <span>Start</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">





                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/">



                    <span>Create your first AMP</span> <span class="nav-link-lastword">Page<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/basic_markup/">
                    Create your AMP HTML page
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/include_image/">
                    Include an image
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/presentation_layout/">
                    Modify presentation and layout
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/prepare_for_discovery/">
                    Prepare your page for discovery and distribution
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/preview_and_validate/">
                    Preview and validate
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create/publish/">
                    Final steps before publishing
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_email/">
                    Create your first AMP Email
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]




                [% if format in ["stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/">



                    <span>Create your first Web</span> <span class="nav-link-lastword">Story<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/setting_up/">
                    Setting up
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/parts_of_story/">
                    Understanding the parts of an AMP story
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/start_story/">
                    Starting our story
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/create_cover_page/">
                    Creating the cover page
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/add_more_pages/">
                    Adding more pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/animating_elements/">
                    Animating elements
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/create_bookend/">
                    Creating the bookend
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/validation/">
                    Validating your AMP HTML
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/visual_story/congratulations/">
                    Congratulations!
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/bento_guide/">
                    Use Bento components in non-AMP pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_successful_stories/">
                    Best practices for creating a successful Web Story
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/email-inspiration/">
                    Inspiration for AMP Email use cases
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/email_sender_distribution/">
                    Register for sender distribution
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/productivity_sender/">
                    Senders focused on productivity
                  </a>
                </li>
                [% endif %]


                <li class="nav-item-tutorial-divider"></li>


                [% if format in ["ads"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/">



                    <span>Create your first AMPHTML</span> <span class="nav-link-lastword">ad<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/create_shell/">
                    Create the shell for the ad
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/">
                    Create an AMPHTML ad
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/image_ad/">
                    Create the image ad
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/track_views/">
                    Track ad views
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/validate/">
                    Validate AMPHTML syntax
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/create_amphtml_ad/summary/">
                    Congratulations!
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/">



                    <span>Convert HTML to</span> <span class="nav-link-lastword">AMP<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/setting-up/">
                    Setting up
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/building-page/">
                    Building a regular HTML page
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/resolving-errors/">
                    Resolving validation errors
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/discoverable/">
                    Making your page discoverable
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/converting/congratulations/">
                    Congratulations!
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/">



                    <span>Add advanced AMP</span> <span class="nav-link-lastword">features<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/setting_up/">
                    Setting up
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/review_code/">
                    Reviewing the starter code
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/adding_components/">
                    Adding extended AMP components
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/adding_carousels/">
                    Adding carousels
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/tracking_data/">
                    Tracking engagement with analytics
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/navigating/">
                    Navigating your site
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/fonts/">
                    Adding fonts
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/start/add_advanced/congratulations/">
                    Congratulations!
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-1">
                  <span class="nav-link">
                    <span>Learn</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">




                [% if format in ["ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/a4a_spec/">
                    AMP for Ads specification
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-actions-and-events/">
                    Actions and events
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-email-actions-and-events/">
                    Actions and events in AMP email
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/cors-in-email/">
                    CORS in AMP for Email
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/common_attributes/">
                    Common element attributes
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email_fundamentals/">
                    AMP for Email Fundamentals
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/intro-to-amphtml-ads/">
                    Intro to AMPHTML ads
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/webstory_technical_details/">
                    Web Story technical details
                  </a>
                </li>
                [% endif %]




                [% if format in ["email"] %]
                <li class="nav-item level-2">
                  <span class="nav-link">
                    <span>AMP for Email Specification</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email-spec/amp-email-components/">
                    AMP for Email Supported Components
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email-spec/amp-email-css/">
                    AMP for Email Supported CSS
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/">
                    AMP for Email Format
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email-spec/amp-email-html/">
                    AMP for Email Supported HTML
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/email-spec/amp-email-structure/">
                    Structure and rendering of AMP emails
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <span class="nav-link">
                    <span>AMP HTML Specification</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/spec/amp-boilerplate/">
                    AMP Boilerplate Code
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/spec/amphtml/">
                    AMP HTML Specification
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/spec/release-schedule/">
                    AMP Release Schedule
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/experimental/">
                    Enable experimental features
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-html-layout/">

                      <span>AMP&#39;s Layout System</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "email", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-html-layout/">
                    AMPHTML Layout System
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-html-layout/layouts_demonstrated/">
                    Demonstrating AMP layouts
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "email", "stories", "ads"] %]
                <li class="nav-item level-2">
                  <span class="nav-link">
                    <span>Validation Workflow</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/validation-workflow/validate_amp/">
                    Validate AMP pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/validation-workflow/validate_emails/">
                    Validate AMP Emails
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "email", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/validation-workflow/validation_errors/">
                    AMP validation errors
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">
                  <span class="nav-link">
                    <span>AMP Caches & CORS</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-caches-and-cors/amp-cache-debugging/">
                    Debug AMP Cache issues
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-caches-and-cors/amp-cors-requests/">
                    CORS in AMP
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-caches-and-cors/how_amp_pages_are_cached/">
                    How AMP pages are cached
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/amp-caches-and-cors/amp-cache-urls/">
                    AMP Cache URL Format and Request Handling
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/learn/combine-amp-pwa/">
                    How AMP and PWA relate to each other
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-1">
                  <span class="nav-link">
                    <span>Develop</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">





                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/">

                      <span>Style &amp; Layout</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/style_pages/">
                    Supported CSS
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/control_layout/">
                    Layout &amp; media queries
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/placeholders/">
                    Placeholders &amp; fallbacks
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/art_direction/">
                    Responsive images with srcset, sizes &amp; heights
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "email", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/responsive_design/">
                    Create responsive AMP pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "ads", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/style_and_layout/custom_fonts/">
                    Add custom fonts
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "ads", "stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/media_iframes_3p/">

                      <span>Include media, iframes &amp; third-party content</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories", "email", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/media_iframes_3p/">
                    Include images &amp; video
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/media_iframes_3p/third_party_components/">
                    Include third-party content
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/media_iframes_3p/iframes/">
                    Include iframes
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/amp_email_best_practices/">
                    AMP for Email best practices
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity_guide/">

                      <span>Interactivity</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity_guide/foundations/">
                    Interactivity foundations
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity_guide/ready_made/">
                    Ready-made interactivity with AMP components
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity_guide/personalized_experiences/">
                    Building personalized interactive experiences
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity_guide/client_rendering/">
                    Client-side rendering in AMP
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/testing_amp_emails/">
                    Testing AMP emails
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites", "ads", "stories"] %]
                <li class="nav-item level-2">
                  <span class="nav-link">
                    <span>Animate & Transition</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/animations/triggering_css_animations/">
                    Triggering CSS animations &amp; transitions
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/animations/introduction_to_animations/">
                    Introduction to complex animations
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/advertise_amp_stories/">
                    Advertise in Web Stories
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/custom-javascript/">
                    Use custom JavaScript in AMP pages
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/monetization/">

                      <span>Monetize your AMP pages</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/monetization/">
                    Monetizing your AMP page with ads
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/monetization/ads_vendors/">
                    Ads vendors
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/monetization/content_encryption/">
                    Protect your subscription content with client-side encryption
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["ads", "stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/story_ads_best_practices/">
                    Best practices for creating a Web Story ad
                  </a>
                </li>
                [% endif %]


                <li class="nav-item-tutorial-divider"></li>


                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/">



                    <span>Create interactive AMP</span> <span class="nav-link-lastword">pages<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/prereqs-setup/">
                    Setting up
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/get-familiar/">
                    Getting familiar with the starter code
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/advanced-interactivity/">
                    Improving the interactivity
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/remote-data/">
                    Working with remote data
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/interactivity/wrapping-up/">
                    Wrapping up
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/login_requiring/">



                    <span>Create a login-requiring AMP</span> <span class="nav-link-lastword">page<svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg></span>

                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/login_requiring/login/">
                    Login
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/login_requiring/add_comment/">
                    Add a comment
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/login_requiring/logout/">
                    Logout
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">
                  <div class="ap-m-tutorial-progress "></div>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/login_requiring/summary/">
                    Summary
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/custom-javascript-tutorial/">
                    Create a UI widget with custom JavaScript
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]






                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/live_blog/">
                    Create a live blog
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/develop/seatmap/">
                    Create a seatmap
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "email", "stories"] %]
                <li class="nav-item level-1">
                  <span class="nav-link">
                    <span>Integrate</span>
                  </span>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">




                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/integrate/add-email/">
                    Add AMP to existing emails
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/integrate/amp-in-pwa/">
                    Use AMP as a data source for your PWA
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/integrate/amp-to-pwa/">
                    Preload your PWA from your AMP pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/integrate/integrate-with-apps/">
                    Integrate AMP with your app
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/integrate/embed-stories/">
                    Embed stories in web pages
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "ads", "stories"] %]
                <li class="nav-item active level-1">
                  <span class="nav-link">
                    <span>Optimize & Measure</span>
                  </span>
                  <input class="nav-trigger" type="checkbox" checked/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">




                [% if format in ["websites"] %]
                <li class="nav-item active level-2" autoscroll>

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-managing-user-state/">
                    Manage non-authenticated user state with AMP
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/publishing_checklist/">
                    AMP publishing checklist
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-optimizer-guide/">

                      <span>Using an AMP Optimizer</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-optimizer-guide/explainer/">
                    How an AMP Optimizer works
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-optimizer-guide/node-amp-optimizer/">
                    Node.js AMP Optimizer Guide
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/configure-analytics/">

                      <span>Track engagement with analytics</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/configure-analytics/analytics-vendors/">
                    Analytics Vendors
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/configure-analytics/analytics_basics/">
                    Analytics: the basics
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/configure-analytics/deep_dive_analytics/">
                    Deep dive into AMP analytics
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/configure-analytics/use_cases/">
                    Use cases
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/signed-exchange/">
                    Serve AMP using signed exchanges
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/discovery/">
                    Make your pages discoverable
                  </a>
                </li>
                [% endif %]



                [% if format in ["stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/discovery_web_stories/">
                    Make your Web Stories discoverable
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/engagement/">
                    Improve user engagement
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/optimize_amp/">
                    Optimize your hosted AMP pages
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/secure-pages/">
                    Secure from third party attacks
                  </a>
                </li>
                [% endif %]


                <li class="nav-item-tutorial-divider"></li>

                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp_to_pwa/">
                    Turn your AMP site into a PWA
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/amp-as-pwa/">
                    Easy offline access and improved performance
                  </a>
                </li>
                [% endif %]


                <li class="nav-item-tutorial-divider"></li>

                [% if format in ["websites", "stories", "ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/optimize-and-measure/tracking-engagement/">
                    How to configure basic analytics for your AMP pages
                    <svg class="ap-a-ico nav-type-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tutorial"></use></svg>
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-1">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/">

                      <span>Contribute</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
                  </div>
                              <ul class="nav-list level-2">




                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/">
                    How to contribute
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/integrate-your-analytics-tools/">
                    Integrate your analytics tool with AMP
                  </a>
                </li>
                [% endif %]




                [% if format in ["websites", "stories", "email", "ads"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/contribute-documentation/">

                      <span>Contribute documentation</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/contribute-documentation/documentation-types/">
                    Documentation types
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/contribute-documentation/terminology/">
                    AMP terminology
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/contribute-documentation/formatting/">
                    Formatting guides &amp; tutorials
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]




                [% if format in ["websites", "stories", "email", "ads"] %]
                <li class="nav-item level-2">
                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/vendor-contributions/">

                      <span>Third party contributions</span>
                  </a>
                  <input class="nav-trigger" type="checkbox"/>
                  <div class="nav-icon">
                    <svg class="ap-a-ico light"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-light"></use></svg>
                  </div>
                              <ul class="nav-list level-3">




                [% if format in ["ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/vendor-contributions/ad-integration-guide/">
                    Integrate your ad technologies into AMP
                  </a>
                </li>
                [% endif %]



                [% if format in ["websites", "stories", "email", "ads"] %]
                <li class="nav-item level-3">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/vendor-contributions/release-schedule/">
                    Interactive Release Calendar
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]



                [% if format in ["websites", "stories", "ads", "email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/translations/">
                    Contribute translations
                  </a>
                </li>
                [% endif %]



                [% if format in ["ads"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/adnetwork_integration/">
                    Integrating with AMP to serve display ads
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/email-viewer/">
                    Using the AMP Viewer to render emails
                  </a>
                </li>
                [% endif %]



                [% if format in ["email"] %]
                <li class="nav-item level-2">

                  <a class="nav-link" href="/documentation/guides-and-tutorials/contribute/integrate-amphtml-email/">
                    AMP for Email - Email Provider integration
                  </a>
                </li>
                [% endif %]

            </ul>

                </li>
                [% endif %]

            </ul>



          </div>
        </div>
      </div>
    </ul>
  </nav>
</amp-sidebar>



<footer class="ap--footer">
  <div class="ap-o-footer">
    <div class="ap-o-footer-line-top">
      <div class="ap-o-footer-hint">Of course, this site is made with AMP!</div>

      <div class="ap-o-footer-follow">
        <h5 class="ap-o-footer-follow-title">Follow us</h5>
        <ul class="ap-o-footer-follow-menu">
          <li class="ap-o-footer-follow-item">
            <a class="ap-a-ico ap-o-footer-follow-icon" href="https://twitter.com/AMPhtml" rel="noopener" title="Twitter">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#twitter"></use></svg>
            </a>
          </li>
          <li class="ap-o-footer-follow-item">
            <a class="ap-a-ico ap-o-footer-follow-icon" href="https://www.youtube.com/channel/UCXPBsjgKKG2HqsKBhWA4uQw" rel="noopener" title="YouTube">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#youtube"></use></svg>
            </a>
          </li>
          <li class="ap-o-footer-follow-item">
            <a class="ap-a-ico ap-o-footer-follow-icon" href="https://blog.amp.dev/" rel="noopener">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#wordpress" title="WordPress"></use></svg>
            </a>
          </li>
          <li class="ap-o-footer-follow-item">
            <a class="ap-a-ico ap-o-footer-follow-icon" href="https://github.com/ampproject" title="GitHub">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#github"></use></svg>
            </a></li>
          <li class="ap-o-footer-follow-item">
            <a class="ap-a-ico ap-o-footer-follow-icon" href="https://stackoverflow.com/questions/tagged/amp-html" rel="noopener" title="Stackoverflow"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#stackoverflow"></use></svg></a>
          </li>
        </ul>
      </div>
    </div>
    <div class="ap-o-footer-nav">
      <div class="ap-o-footer-nav-column">
        <h5 class="ap-o-footer-nav-title">Overview</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a href="/about/websites/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>AMP Framework</a></li>
          <li class="ap-o-footer-nav-item"><a href="/about/use-cases/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Use Cases</a></li>
          <li class="ap-o-footer-nav-item"><a href="/success-stories/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Success stories</a></li>
          <li class="ap-o-footer-nav-item"><a href="/about/how-amp-works/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Functionality</a></li>
        </ul>
      </div>
      <div class="ap-o-footer-nav-column">
        <h5 class="ap-o-footer-nav-title">Docs</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a href="/documentation/guides-and-tutorials/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Get Started</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/guides-and-tutorials/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Guides and Tutorials</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/components/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Components</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/examples/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Examples</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/templates/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Design Templates</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/tools/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Tools</a></li>
        </ul>
      </div>
      <div class="ap-o-footer-nav-column">
        <h5 class="ap-o-footer-nav-title">Community</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a href="/support/faq/platform-and-vendor-partners/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Platform and Vendor Partners</a></li>
          <li class="ap-o-footer-nav-item"><a href="/documentation/guides-and-tutorials/contribute/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Contribute</a></li>
          <li class="ap-o-footer-nav-item"><a href="/community/roadmap/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Roadmap</a></li>
        </ul>
        <h5 class="ap-o-footer-nav-title">OpenJS Foundation</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a class="ap-o-footer-nav-link" href="https://openjsf.org" rel="noopener"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>The OpenJS Foundation</a></li>
          <li class="ap-o-footer-nav-item"><a class="ap-o-footer-nav-link" href="https://bylaws.openjsf.org" rel="noopener"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>OpenJS Foundation Bylaws</a></li>
          <li class="ap-o-footer-nav-item"><a class="ap-o-footer-nav-link" href="https://trademark-policy.openjsf.org" rel="noopener"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Trademark Policy</a></li>
          <li class="ap-o-footer-nav-item"><a class="ap-o-footer-nav-link" href="https://trademark-list.openjsf.org" rel="noopener"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>Trademark List</a></li>
        </ul>
      </div>
      <div class="ap-o-footer-nav-column">
        <h5 class="ap-o-footer-nav-title">Events</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a href="https://blog.amp.dev/2020/02/20/amp-conf-2020-return-to-nyc/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>AMP Conf 2020</a></li>
          <li class="ap-o-footer-nav-item"><a href="/events/amp-cs-2019/" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#internal"></use></svg></div>AMP Contributor Summit 2019</a></li>
        </ul>
        <h5 class="ap-o-footer-nav-title">AMP Brand Materials</h5>
        <ul class="ap-o-footer-nav-menu">
          <li class="ap-o-footer-nav-item"><a href="/static/files/brand-material/AMP_Mini_Styleguide.pdf" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#download"></use></svg></div>Styleguide</a></li>
          <li class="ap-o-footer-nav-item"><a href="/static/files/brand-material/AMP_Logo_Rebrush.zip" class="ap-o-footer-nav-link"><div class="ap-a-ico ap-o-footer-nav-icon"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#download"></use></svg></div>Logos</a></li>
        </ul>
      </div>
    </div>
    <div class="ap-o-footer-line-bottom">
      <div class="ap-o-footer-openjsf">
        <amp-img src="/static/img/logo-openjsf.svg" alt="Logo of the OpenJS Foundation" width="315" height="100" layout="responsive"></amp-img>
      </div>
      <ul class="ap-o-footer-legal-nav-menu">
        <li class="ap-o-footer-legal-nav-item"><a class="ap-o-footer-legal-nav-link" href="https://terms-of-use.openjsf.org" rel="noopener">Terms of Use</a></li>
        <li class="ap-o-footer-legal-nav-item"><a class="ap-o-footer-legal-nav-link" href="https://privacy-policy.openjsf.org" rel="noopener">Privacy Policy</a></li>
        <li class="ap-o-footer-legal-nav-item"><a class="ap-o-footer-legal-nav-link" href="https://www.linuxfoundation.org/cookies" rel="noopener">Cookie Policy</a></li>
      </ul>
    </div>
    <div class="ap-o-footer-copyright">
      &copy; <a href="https://openjsf.org">OpenJS Foundation</a> and AMP Project contributors. All rights reserved. The <a href="https://openjsf.org">OpenJS Foundation</a> has registered trademarks and uses trademarks. For a list of trademarks of the <a href="https://openjsf.org">OpenJS Foundation</a>, please see our <a href="https://trademark-policy.openjsf.org">Trademark Policy</a> and <a href="https://trademark-list.openjsf.org">Trademark List</a>. Trademarks and logos not indicated on the <a href="https://trademark-list.openjsf.org">list of OpenJS Foundation trademarks</a> are trademarks&trade; or registered&reg; trademarks of their respective holders. Use of them does not imply any affiliation with or endorsement by them.
      <br><br>
      The services available at <a href="https://cdn.ampproject.org">cdn.ampproject.org</a> are provided by Google and the respective <a href="https://policies.google.com/privacy?hl=en">privacy policy</a> applies.
    </div>
  </div>

</footer>












<amp-analytics type="gtag" data-credentials="include" data-block-on-consent>
  <script type="application/json">
    {"triggers": {"banner": {"on": "click", "selector": "#top-banner", "vars": {"event_action": "click", "event_category": "guides-and-tutorials", "event_label": "banner", "event_name": "banner"}}, "breadcrumbLink": {"on": "click", "selector": ".ap-m-breadcrumbs-crumb", "vars": {"event_action": "link", "event_category": "guides-and-tutorials", "event_label": "breadcrumbs", "event_name": "breadcrumbs"}}, "formatToggle": {"on": "click", "selector": ".ap-m-format-toggle-link", "vars": {"event_action": "link", "event_category": "guides-and-tutorials", "event_label": "format-toggle", "event_name": "format-toggle"}}, "navigation": {"on": "click", "selector": ".ap--header a, .ap-o-burger-menu-link", "vars": {"event_action": "link", "event_category": "guides-and-tutorials", "event_label": "navigation", "event_name": "navigation"}}, "scrolledEnd": {"on": "scroll", "scrollSpec": {"verticalBoundaries": [90]}, "vars": {"event_action": "end", "event_category": "guides-and-tutorials", "event_label": "scroll", "event_name": "scroll"}}, "scrolledHalf": {"on": "scroll", "scrollSpec": {"verticalBoundaries": [50]}, "vars": {"event_action": "half", "event_category": "guides-and-tutorials", "event_label": "scroll", "event_name": "scroll"}}, "searchButton": {"on": "click", "selector": "#searchTriggerOpen", "vars": {"event_action": "open", "event_category": "search", "event_label": "search", "event_name": "search"}}, "sidebarLink": {"on": "click", "selector": ".ap-o-sidebar a", "vars": {"event_action": "link", "event_category": "guides-and-tutorials", "event_label": "sidebar", "event_name": "sidebar"}}, "sidebarToggle": {"on": "click", "selector": "label[for=\"sidebar-desktop\"], label[for=\"sidebar\"]", "vars": {"event_action": "toggle", "event_category": "guides-and-tutorials", "event_label": "sidebar", "event_name": "sidebar"}}, "tocLink": {"on": "click", "selector": ".ap-o-toc a", "vars": {"event_action": "link", "event_category": "guides-and-tutorials", "event_label": "toc", "event_name": "toc"}}, "tocToggle": {"on": "click", "selector": ".ap-o-toc label", "vars": {"event_action": "toggle", "event_category": "guides-and-tutorials", "event_label": "toc", "event_name": "toc"}}}, "vars": {"config": {"UA-67833617-1": {"groups": "default"}}, "gtag_id": "UA-67833617-1"}}
  </script>
</amp-analytics><amp-geo layout="nodisplay">
  <script type="application/json">
    {
      "ISOCountryGroups": {
        "eu": ["preset-eea"],
        "doubleOptIn": ["de", "at", "no", "gr", "lu"]
      }
    }
  </script>
</amp-geo>

<amp-consent id="consent" class="ap-o-consent" layout="nodisplay">
  <script type="application/json">
    {
      "consentInstanceId": "consent",
      "promptUI": "consent-popup",
      "consentRequired": false,
      "geoOverride": {
        "eu": {
          "consentRequired": true
        }
      }
    }
  </script>

  <div id="consent-popup" class="consent-popup">
    <button type="reset" class="ap-o-consent-close" on="tap:consent.dismiss" role="button" tabindex="0" aria-label="Dismiss consent">
      <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#close"></use></svg>
    </button>
    <p class="ap-o-consent-text">
        We use cookies to understand how you use our site and to improve your experience. By continuing to use our site, you accept our <a href="https://policies.google.com/technologies/cookies">use of cookies</a> and <a href="https://policies.google.com/privacy">privacy policy</a>.
    </p>
    <button on="tap:consent.accept" class="ap-a-btn" role="button" aria-label="Accept use of cookies">Got it!</button>
  </div>
</amp-consent>
<amp-install-serviceworker src="/serviceworker.js" data-iframe-src="http://localhost:8080/serviceworker.html" layout="nodisplay"></amp-install-serviceworker>  </body>
</html>